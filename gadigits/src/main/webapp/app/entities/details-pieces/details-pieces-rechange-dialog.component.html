<div class="card-block" class="col-sm-12">
    <span class="anchor" id="formUserEdit"></span>
    <div class="card card-outline-secondary">
<div class="card-header">
    <h2>
        <span jhiTranslate="auxiliumApp.detailsPieces.homeRechange">details mo</span>
    </h2>
    <div class="form-group" style="margin-top: -35px;">          
            <input type="submit" class="btn btn-primary addnew pull-right" (click)="addNew()" value="Ajouter piÃ¨ce de rechange" [disabled]="reparateur != true || etat == 'Refuse_Apres_Facture'">
     </div>
    </div>
    <div class="card-block">
    <div class="table-responsive">
         <form>
        <table class="table table-striped">
            <thead>
            <tr jhiSort>
            <th jhiSortBy="vetuste"><span jhiTranslate="auxiliumApp.detailsPieces.vetuste">vetuste</span> <span class="fa fa-sort"></span></th>
            <th jhiSortBy="designation"><span jhiTranslate="auxiliumApp.detailsPieces.designation">Designation</span> <span class="fa fa-sort"></span></th>
            <th jhiSortBy="prixUnit"><span jhiTranslate="auxiliumApp.detailsPieces.prixUnit">Prix Unit</span> <span class="fa fa-sort"></span></th>
            <th jhiSortBy="quantite"><span jhiTranslate="auxiliumApp.detailsPieces.quantite">Quantite</span> <span class="fa fa-sort"></span></th>
            <th jhiSortBy="totalHt"><span jhiTranslate="auxiliumApp.detailsMo.totalHt">totalHt</span> <span class="fa fa-sort"></span></th>
            <th jhiSortBy="tva"><span jhiTranslate="auxiliumApp.detailsPieces.tva">Tva</span> <span class="fa fa-sort"></span></th>
            <th jhiSortBy="totalTtc"><span jhiTranslate="auxiliumApp.detailsMo.totalTtc">totalttc</span> <span class="fa fa-sort"></span></th>
            <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let detailsPieces of detailsPieces ; let i=index;trackBy: trackId">
                <td><input *ngIf = "expert == true" type="number" class="form-control" [(ngModel)]="detailsPieces.vetuste" name ="vetuste"/></td>
                <td>
                <select class="form-control" name="designation" [(ngModel)]="detailsPieces.designationId" *ngIf = "reparateur == true">
                <option [ngValue]="designationOption.id" *ngFor="let designationOption of pieces; trackBy: trackPieceById">{{designationOption.reference}}</option>
            </select>
            <input type="number" class="form-control" [(ngModel)]="detailsPieces.designationId" name ="designation" readonly *ngIf = "reparateur != true"/>
                </td>
                <td><input type="number" class="form-control" [(ngModel)]="detailsPieces.prixUnit" name ="prixUnit" *ngIf = "reparateur == true"/>
                    <input type="number" class="form-control" [(ngModel)]="detailsPieces.prixUnit" name ="prixUnit" readonly *ngIf = "reparateur != true"/>
                </td>
                <td><input type="number" class="form-control" [(ngModel)]="detailsPieces.quantite" name ="quantite" *ngIf = "reparateur == true"/>
                    <input type="number" class="form-control" [(ngModel)]="detailsPieces.quantite" name ="quantite" *ngIf = "reparateur != true" readonly/>
                </td>
                <td>

                        <input type="number" class="form-control" [value]="detailsPieces.prixUnit*detailsPieces.quantite" name ="tht" *ngIf = "reparateur == true" readonly/>
                </td>
                <td><input type="number" class="form-control" [(ngModel)]="detailsPieces.tva" name ="tva" *ngIf = "reparateur == true"/>
                    <input type="number" class="form-control" [(ngModel)]="detailsPieces.tva" name ="tva" readonly *ngIf = "reparateur != true"/>
                </td>
                <td>

                        <input type="number" class="form-control" [value]="(detailsPieces.prixUnit*detailsPieces.quantite)+((detailsPieces.prixUnit*detailsPieces.quantite)*(detailsPieces.tva/100))" name ="ttc" *ngIf = "reparateur == true" readonly/>
                </td>
                <td class="text-right">
                    <div class="btn-group flex-btn-group-container">
                            <a  (click)="removeRow(i)" class="btn btn-xs btn-danger">
                                    <i class="glyphicon glyphicon-remove">X</i>
                                  </a>
                           
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="row justify-content-center">
            <pagination-controls (pageChange)="pr = $event"></pagination-controls> 
            </div>
        </form>
    </div>
       
</div>

<div >
        
       
    </div></div></div>
    
