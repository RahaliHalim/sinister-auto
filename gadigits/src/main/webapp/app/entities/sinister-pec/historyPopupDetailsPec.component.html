<!-- Breadcrumb-->
<div class="breadcrumb-holder">
    <div class="container-fluid">
        <div class="card-header d-flex align-items-center no-padding">
            <div class="notice notice-info">
                <span class="fa fa-folder-open" style="color: #45ABCD"></span>&nbsp;&nbsp;
                <strong style="color:#11859b">Détails PEC</strong>
                <span class="fa fa-lg fa-close pull-right" style="cursor: pointer" (click)="activeModal.close()"></span>
            </div>
        </div>
    </div>

</div>



<section class="forms">
    <!--</br>
    <div class="col-lg-11">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img
            class="imageGauche hipster img-fluid img-rounded" src="../../../content/images/search.png"
            style="width:50px;" (click)="history()">
        </br>
        &nbsp;&nbsp;&nbsp;&nbsp; <span class="imageGauche">Historique &nbsp; </span>
        <style type="text/css">
            .imageGauche {
                float: right;
            }
        </style>
    </div>-->

    <div class="container-fluid">
        <!-- Page Header-->
        <header>
            <h1 class="h3 display">
                <jhi-alert-error></jhi-alert-error>
                <jhi-alert></jhi-alert>
            </h1>
        </header>
        <div class="row">
            <div class="col-lg-12">
                <form name="editForm" role="form" novalidate #editForm="ngForm">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="card">
                                <div class="card-header d-flex align-items-center no-padding">
                                    <div class="notice notice-info">
                                        <span class="fa fa-folder-open" style="color: #45ABCD"></span>&nbsp;&nbsp;
                                        <strong jhiTranslate="auxiliumApp.priseEnCharge.home.details">Détails Prise en
                                            charge</strong>
                                        {{sinister.reference}}
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label jhiTranslate="auxiliumApp.sinister.immatriculation"
                                                    for="currentSearch">Immatriculation</label>
                                                <div class="input-group">
                                                    <input type="text" [(ngModel)]="sinister.vehicleRegistration"
                                                        (blur)="trimRegistrationNumber();"
                                                        class="form-control form-control-sm" name="currentSearch"
                                                        id="currentSearch" [readonly]="sinister.id" required />
                                                    <span class="input-group-btn">
                                                        <button class="input-group-addon btn btn-sm btn-info"
                                                            [hidden]="sinister.id"
                                                            (click)="search(sinister.vehicleRegistration)">
                                                            <span class="fa fa-search"></span>
                                                        </button>
                                                        <button class="input-group-addon btn btn-sm btn-info"
                                                            [hidden]="sinister.id"
                                                            [disabled]="contratAssurance !== null"
                                                            [routerLink]="['../contrat-assurance-new', sinister.vehicleRegistration ]">
                                                            <span class="fa fa-plus"></span>
                                                        </button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label jhiTranslate="auxiliumApp.dossier.natureIncident"
                                                    for="field_natureIncident">Nature Incident</label>
                                                <select class="form-control form-control-sm" name="natureIncident"
                                                    [(ngModel)]="sinister.nature" id="field_natureIncident" disabled>
                                                    <option value="PANNE"
                                                        jhiTranslate="auxiliumApp.NatureIncident.PANNE">PANNE</option>
                                                    <option value="ACCIDENT"
                                                        jhiTranslate="auxiliumApp.NatureIncident.ACCIDENT">ACCIDENT
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <label class="form-control-label"
                                                jhiTranslate="auxiliumApp.dossier.dateAccident"
                                                for="field_incidentDate">Date Accident</label>
                                            <div class="input-group">
                                                <input id="field_incidentDate" type="text"
                                                    class="form-control form-control-sm" name="incidentDate"
                                                    value="{{sinister.incidentDate | date:'dd/MM/yyyy'}}" readonly />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="form-control-label"
                                                    jhiTranslate="auxiliumApp.dossier.nbrPassagers"
                                                    for="field_nbrPassagers">Nbr Passagers</label>
                                                <input type="number" class="form-control form-control-sm"
                                                    name="nbrPassagers" id="field_nbrPassagers"
                                                    [(ngModel)]="sinister.passengerCount" [pattern]="nbrVehPattern"
                                                    min="{{minPssgrNumber}}" [disabled]="!enableField" />
                                                <div
                                                    [hidden]="!(editForm.controls.nbrPassagers?.dirty && editForm.controls.nbrPassagers?.invalid)">
                                                    <small class="form-text text-danger"
                                                        [hidden]="!editForm.controls.nbrPassagers?.errors?.max"
                                                        jhiTranslate="entity.validation.max"
                                                        translateValues="{ max: 99999999 }">This field cannot be more
                                                        than 99999999.</small>
                                                    <small class="form-text text-danger"
                                                        [hidden]="!editForm.controls.nbrPassagers?.errors?.number"
                                                        jhiTranslate="entity.validation.number">This field should be a
                                                        number.</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="form-control-label"
                                                    jhiTranslate="auxiliumApp.dossier.telephone"
                                                    for="field_telephone">Telephone</label>
                                                <input type="text" class="form-control form-control-sm" name="telephone"
                                                    id="field_telephone" [(ngModel)]="sinister.phone"
                                                    [disabled]="!enableField" pattern="([0-9]{1,50})" />
                                                <div
                                                    [hidden]="!(editForm.controls.telephone?.dirty && editForm.controls.telephone?.invalid)">
                                                    <small class="form-text text-danger"
                                                        [hidden]="!editForm.controls.telephone?.errors?.pattern"
                                                        jhiTranslate="entity.validation.pattern"
                                                        translateValues="{ pattern: 'Telephone' }">This field should
                                                        follow pattern for "Telephone".</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row" *ngIf="isContractLoaded">
                                        <div class="col-sm-3">
                                            <br>
                                            <label class="form-control-label" jhiTranslate="auxiliumApp.sinister.assure"
                                                for="field_isAssure">isAssure</label>
                                            <input type="checkbox" class="check-input" name="field_isAssure"
                                                id="field_isAssure" [value]="sinister.isAssure"
                                                [(ngModel)]="sinister.isAssure" [disabled]="!enableField" />
                                        </div>
                                        <div class="col-sm-3" *ngIf="!sinister.isAssure">
                                            <div>
                                                <label class="form-control-label"
                                                    jhiTranslate="auxiliumApp.sinister.conducteur" for="field_nomCond">
                                                    nom conducteur </label>
                                                <input type="text" class="form-control form-control-sm" name="nomCond"
                                                    id="field_nomCond" [(ngModel)]="sinister.conductorFirstName"
                                                    [required]="!sinister.isAssure" [disabled]="!enableField" />
                                            </div>
                                        </div>
                                        <div class="col-sm-4" *ngIf="sinister.isAssure">
                                            <label class="form-control-label"
                                                jhiTranslate="auxiliumApp.contratAssurance.assure"
                                                for="field_prenomAssure"> nom/prenom assuré </label>
                                            <input type="text" class="form-control form-control-sm" name="nomAssure"
                                                id="field_prenomAssure" [(ngModel)]="assure" readonly
                                                [disabled]="!enableField" />
                                        </div>
                                        <div class="col-sm-3">
                                            <label jhiTranslate="auxiliumApp.sinisterPec.driverLicenseNumber"
                                                for="currentSearch1">driver License Number</label>
                                            <input type="text" [(ngModel)]="sinisterPec.driverLicenseNumber"
                                                class="form-control form-control-sm" name="currentSearch1"
                                                id="currentSearch1" [disabled]="!enableField" />
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-5">
                                            <div class="form-group">
                                                <label
                                                    jhiTranslate="auxiliumApp.refTypeService.detail.title">Servicetype</label>
                                                <select class="form-control form-control-sm" id="field_lieu" name="lieu"
                                                    disabled [(ngModel)]="typeServiceId">
                                                    <option [ngValue]="serviceType.id"
                                                        *ngFor="let serviceType of serviceTypes">
                                                        {{serviceType.nom}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="card">
                                <div class="card-header d-flex align-items-center no-padding">
                                    <div class="notice notice-info">
                                        <span class="fa fa-file-text-o" style="color: #45ABCD"></span>&nbsp;&nbsp;
                                        <strong jhiTranslate="auxiliumApp.contratAssurance.home.details">Détails
                                            contrat</strong>
                                    </div>

                                </div>
                                <div class="card-body">
                                    <div class="alert alert-danger" *ngIf="contratAssurance == null"
                                        jhiTranslate="auxiliumApp.sinister.contrat">
                                        <strong>Matricule inexistante</strong>
                                    </div>
                                    <!-- Begin sinister and contract -->
                                    <form name="editForm" role="form" *ngIf="contratAssurance !== null">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.numeroContrat"
                                                        for="field_immatriculationVehicule">numero Contrat</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="numeroContrat" id="field_numeroContrat"
                                                        [(ngModel)]="contratAssurance.numeroContrat" readonly />
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.compagnie"
                                                        for="field_company">company</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="company" id="field_company"
                                                        [(ngModel)]="contratAssurance.nomCompagnie" readonly />
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.agence"
                                                        for="field_agency">agency</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="agency" id="field_agency"
                                                        [(ngModel)]="contratAssurance.agenceNom" readonly />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.assure"
                                                        for="field_assurePrenom">Assure</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="assurePrenom" id="field_assurePrenom"
                                                        [(ngModel)]="insured.fullName" maxlength="100" readonly />
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.debutValidite"
                                                        for="field_debutValidite">debutValidite</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="debutValidite" id="field_debutValidite"
                                                        value="{{contratAssurance.debutValidite | date:'dd/MM/yyyy'}}"
                                                        readonly />
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.finValidite"
                                                        for="field_finValidite">finValidite</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="finValidite" id="field_finValidite"
                                                        value="{{contratAssurance.finValidite | date:'dd/MM/yyyy'}}"
                                                        readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.marque"
                                                        for="field_marqueLibelle">Marque</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="marqueLibelle" id="field_marqueLibelle"
                                                        [(ngModel)]="contratAssurance.marqueLibelle" readonly />
                                                </div>
                                            </div>
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.vehiculeAssure.datePCirculation"
                                                        for="field_datePCirculation">datePCirculation</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="datePCirculation" id="field_datePCirculation"
                                                        value="{{contratAssurance.datePCirculation | date:'dd/MM/yyyy'}}"
                                                        readonly />
                                                </div>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.ville"
                                                        for="field_ville">Ville</label>
                                                    <input type="text" class="form-control form-control-sm"
                                                        name="villeLibelle" id="field_ville"
                                                        [(ngModel)]="insured.villeLibelle" readonly />
                                                </div>
                                            </div>
                                            <div class="col-sm-4" *ngIf="insured.company">
                                                <div class="form-group">
                                                    <label class="form-control-label" for="field_isAssujettieTva"
                                                        style="width: 100%;">&nbsp;</label>
                                                    <input type="checkbox" class="check-input" name="isAssujettieTva"
                                                        id="field_isAssujettieTva" [(ngModel)]="insured.isAssujettieTva"
                                                        readonly />
                                                    <label class="form-control-label"
                                                        jhiTranslate="auxiliumApp.personneMorale.isAssujettieTva"
                                                        for="field_isAssujettieTva">Is Assujettie Tva</label>
                                                </div>
                                            </div>

                                            <div class="col-sm-4">
                                                <div class="form-group">
                                                    <label jhiTranslate="auxiliumApp.contratAssurance.pack"
                                                        for="field_pack">Pack</label>
                                                    <input type="text" class="form-control form-control-sm" name="pack"
                                                        id="field_pack" [(ngModel)]="vehiculeContrat.packLabel"
                                                        readonly />
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <!-- End contract details -->
                                </div>
                            </div>
                        </div>
                        <!-- End sinister and contract details -->
                    </div>
                </form>
            </div>
        </div>

        <div id="navbar-example">
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#DetailsPec" role="tab">Détails PEC</a>
                </li>


                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#devisAvisExpert" role="tab">Liste des devis</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#apecNew" role="tab">Liste des Accords</a>
                </li>

                <li *ngIf="isApecValid " class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#apec" role="tab">Bon de sortie</a>
                </li>
                <!-- <li *ngIf="isApecValid1" class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#apec1" role="tab">Accord</a>
                </li> -->
                <!--   <li *ngIf="isModifPrix" class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#modifprix" role="tab">Modification Prix</a>
                </li> -->
                <li *ngIf="sinisterPec.stepId == 37 || sinisterPec.stepId == 35 ||sinisterPec.stepId == 36 || sinisterPec.stepId == 40"
                    class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#facture" role="tab">Facture</a>
                </li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane fade in active" id="DetailsPec" name="DetailsPec" role="tabpanel">

                    <div class="row" style="margin-top: 15px;">
                        <div class="col-sm-12">
                            <form name="frm" #frm="ngForm">


                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="card">
                                            <div class="card-header d-flex align-items-center no-padding">
                                                <div class="notice notice-info">
                                                    <strong jhiTranslate="auxiliumApp.sinisterPec.home.pec">sinistre
                                                        Pec</strong>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div class="row" style="margin-top: 15px;">
                                                    <div class="col-sm-12">
                                                        <div class="row">

                                                            <div class="col-sm-2">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.sinisterPec.companyReference"
                                                                    for="field_reference">Reference</label>
                                                                <input type="text" class="form-control form-control-sm"
                                                                    name="field_reference" id="field_reference"
                                                                    [(ngModel)]="sinisterPec.companyReference"
                                                                    [disabled]="!enableField" />
                                                                <div
                                                                    [hidden]="!(frm.field_reference?.dirty && frm.field_reference?.invalid)">
                                                                    <small class="form-text text-danger"
                                                                        [hidden]="!frm.field_reference?.errors?.required"
                                                                        jhiTranslate="entity.validation.required">This
                                                                        field is required.</small>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.dossier.dateDeclaration"
                                                                    for="field_dateDeclaration">Date
                                                                    Declaration</label>
                                                                <div class="input-group">
                                                                    <input id="field_dateDeclaration"
                                                                        class="form-control form-control-sm"
                                                                        name="dateDeclaration"
                                                                        [(ngModel)]="sinisterPec.declarationDate"
                                                                        required [disabled]="!enableField" />

                                                                </div>
                                                                <div
                                                                    [hidden]="!(frm.dateDeclaration?.dirty && frm.dateDeclaration?.invalid)">
                                                                    <small class="form-text text-danger"
                                                                        [hidden]="!frm.dateDeclaration?.errors?.required"
                                                                        jhiTranslate="entity.validation.required">This
                                                                        field is required.</small>
                                                                </div>
                                                            </div>


                                                            <div class="col-sm-2">
                                                                <div class="form-group">
                                                                    <label
                                                                        jhiTranslate="auxiliumApp.sinisterPrestation.mode"
                                                                        for="field_pack">Pack</label>
                                                                    <input type="text"
                                                                        class="form-control form-control-sm" name="p"
                                                                        id="field_pack" [(ngModel)]="modeChoisi.libelle"
                                                                        readonly />
                                                                </div>
                                                            </div>

                                                            <div class="col-sm-2">
                                                                <div class="form-group">
                                                                    <label jhiTranslate="auxiliumApp.sinisterPec.posGa"
                                                                        for="field_pos_ga">
                                                                        pos ga</label>
                                                                    <select class="form-control form-control-sm"
                                                                        id="field_pos_ga" name="pos_ga"
                                                                        [(ngModel)]="sinisterPec.posGaId" required
                                                                        [disabled]="!enableField">
                                                                        <option [ngValue]="posGa.id"
                                                                            *ngFor="let posGa of listPositionGa; trackBy: trackPositionGaId">
                                                                            {{posGa.libelle}}</option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <div class="col-sm-2">
                                                                <div class="form-group">
                                                                    <label class="form-control-label"
                                                                        jhiTranslate="auxiliumApp.sinisterPec.vehicleNumber"
                                                                        for="field_nbrevehicule">Nbr
                                                                        Vehicules</label>
                                                                    <input type="number" id="field_nbrevehicule"
                                                                        class="form-control form-control-sm"
                                                                        name="nbreVehicule"
                                                                        [(ngModel)]="sinisterPec.vehicleNumber"
                                                                        (ngModelChange)="verifTiers()"
                                                                        [pattern]="nbrVehPattern" min="{{minVinNumber}}"
                                                                        required [disabled]="!enableField"
                                                                        [readonly]="vehNmbrIda" />
                                                                    <div
                                                                        [hidden]="!(frm.nbreVehicule?.dirty && frm.nbreVehicule?.invalid)">
                                                                        <small class="form-text text-danger"
                                                                            [hidden]="!frm.nbreVehicule?.errors?.required"
                                                                            jhiTranslate="entity.validation.required">This
                                                                            field is required.</small>
                                                                    </div>

                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div class="col-sm-3"
                                                                *ngIf="garantieDommageVehicule || garantieTierce">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.valeurNeuf"
                                                                    for="field_valeurNeuf"> Valeur Neuf </label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="valeurNeuf" id="field_valeurNeuf"
                                                                    [(ngModel)]="vehiculeContrat.newValueVehicle"
                                                                    min="0" max="100000000000000000" required
                                                                    [disabled]="!enableField" />
                                                            </div>

                                                            <div class="col-sm-3"
                                                                *ngIf="garantieDommageCollision || garantieTierceCollision">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.capitalDc"
                                                                    for="field_capitalDc">Capital Dc</label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="capitalDc" id="field_capitalDc"
                                                                    [(ngModel)]="vehiculeContrat.dcCapital" min="0"
                                                                    max="100000000000000000"
                                                                    (ngModelChange)="diffCapDcCapR()" required
                                                                    [disabled]="!enableField" />
                                                            </div>
                                                            <div class="col-sm-3" *ngIf="garantieVolIncendiePartiel">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.valeurVenale"
                                                                    for="field_valeurVenale"> Valeur Venale </label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="valeurVenale" id="field_valeurVenale"
                                                                    [(ngModel)]="vehiculeContrat.marketValue" min="0"
                                                                    max="100000000000000000" required
                                                                    [disabled]="!enableField" />
                                                            </div>
                                                            <div class="col-sm-3" *ngIf="garantieBrisGlace">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.capitalBG"
                                                                    for="field_bgCapital"> capital BG </label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="bgCapital" id="field_bgCapital"
                                                                    [(ngModel)]="vehiculeContrat.bgCapital" min="0"
                                                                    max="100000000000000000"
                                                                    (ngModelChange)="diffCapDcCapR()" required
                                                                    [disabled]="!enableField" />
                                                            </div>
                                                            <div class="col-sm-3"
                                                                *ngIf="garantieDommageCollision || garantieBrisGlace || garantieTierceCollision">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.sinisterPec.capitalRestant"
                                                                    for="field_capitalRestant"> capital restant
                                                                </label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="capitalRestant" id="field_capitalRestant"
                                                                    [(ngModel)]="sinisterPec.remainingCapital" min="0"
                                                                    max="100000000000000000"
                                                                    (ngModelChange)="diffCapDcCapR()" required
                                                                    [disabled]="!enableField" />
                                                            </div>

                                                            <div class="col-sm-3"
                                                                *ngIf="garantieDommageCollision && contratAssurance.clientId == 3">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.sinisterPec.valeurAss"
                                                                    for="field_valeurAss"> valeur Assure </label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="valeurAss" id="field_valeurAss"
                                                                    [(ngModel)]="sinisterPec.valeurAssure" min="0"
                                                                    max="100000000000000000" [disabled]="!enableField"
                                                                    required />

                                                            </div>

                                                            <div class="col-sm-1"
                                                                *ngIf="garantieDommageVehicule || garantieTierce">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.franchise"
                                                                    for="field_newValueVehicleFarnchise">Franchise</label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="newValueVehicleFarnchise"
                                                                    id="field_newValueVehicleFarnchise"
                                                                    [(ngModel)]="vehiculeContrat.newValueVehicleFarnchise"
                                                                    [pattern]="amountPattern" [disabled]="!enableField"
                                                                    required />
                                                            </div>
                                                            <div class="col-sm-2"
                                                                *ngIf="garantieDommageVehicule || garantieTierce">
                                                                <label for="field_type"> Type de franchise </label>
                                                                <select class="form-control form-control-sm"
                                                                    id="field_typenewvalue" name="typenewvalue"
                                                                    [(ngModel)]="vehiculeContrat.franchiseTypeNewValue"
                                                                    [disabled]="!enableField" required>
                                                                    <option value="Montant">Montant</option>
                                                                    <option value="Pourcentage">Pourcentage</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-1"
                                                                *ngIf="garantieDommageCollision || garantieTierceCollision">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.franchise"
                                                                    for="field_dcCapitalFranchise">Franchise</label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="dcCapitalFranchise"
                                                                    id="field_dcCapitalFranchise"
                                                                    [(ngModel)]="vehiculeContrat.dcCapitalFranchise"
                                                                    [disabled]="!enableField" [pattern]="amountPattern"
                                                                    required />
                                                            </div>
                                                            <div class="col-sm-2"
                                                                *ngIf="garantieDommageCollision || garantieTierceCollision">
                                                                <label for="field_type"> Type de franchise </label>
                                                                <select class="form-control form-control-sm"
                                                                    id="field_typedccapital" name="typedccapital"
                                                                    [(ngModel)]="vehiculeContrat.franchiseTypeDcCapital"
                                                                    [disabled]="!enableField" required>
                                                                    <option value="Montant">Montant</option>
                                                                    <option value="Pourcentage">Pourcentage</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-1" *ngIf="garantieVolIncendiePartiel">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.franchise"
                                                                    for="field_franchise">Franchise</label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="marketValueFranchise"
                                                                    id="field_marketValueFranchise"
                                                                    [(ngModel)]="vehiculeContrat.marketValueFranchise"
                                                                    [disabled]="!enableField" [pattern]="amountPattern"
                                                                    required />
                                                            </div>
                                                            <div class="col-sm-2" *ngIf="garantieVolIncendiePartiel">
                                                                <label for="field_type"> Type de franchise </label>
                                                                <select class="form-control form-control-sm"
                                                                    id="field_typemarketvalue" name="typemarketvalue"
                                                                    [(ngModel)]="vehiculeContrat.franchiseTypeMarketValue"
                                                                    [disabled]="!enableField" required>
                                                                    <option value="Montant">Montant</option>
                                                                    <option value="Pourcentage">Pourcentage</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-1" *ngIf="garantieBrisGlace">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.contratAssurance.franchise"
                                                                    for="field_bgCapitalFranchise">Franchise</label>
                                                                <input type="number"
                                                                    class="form-control form-control-sm"
                                                                    name="bgCapitalFranchise"
                                                                    id="field_bgCapitalFranchise"
                                                                    [(ngModel)]="vehiculeContrat.bgCapitalFranchise"
                                                                    [disabled]="!enableField" [pattern]="amountPattern"
                                                                    required />
                                                            </div>
                                                            <div class="col-sm-2" *ngIf="garantieBrisGlace">
                                                                <label for="field_type"> Type de fanchise </label>
                                                                <select class="form-control form-control-sm"
                                                                    id="field_typebgcapital" name="typebgcapital"
                                                                    [(ngModel)]="vehiculeContrat.franchiseTypeBgCapital"
                                                                    [disabled]="!enableField" required>
                                                                    <option value="Montant">Montant</option>
                                                                    <option value="Pourcentage">Pourcentage</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <label class="form-control-label"
                                                                    jhiTranslate="auxiliumApp.sinisterPec.assujettie"></label>
                                                                <br />
                                                                <label class="btn btn-sm btn-primary" for="assujettie">
                                                                    <input type="radio" name="assujettie"
                                                                        id="assujettie" disabled
                                                                        autocomplete="off" [value]="true"
                                                                        [(ngModel)]="vehiculeContrat.assujettieTVA"> Oui
                                                                </label> &nbsp;
                                                                <label class="btn btn-sm btn-primary" for="assujettie">
                                                                    <input type="radio" name="assujettie"
                                                                        id="assujettie" disabled
                                                                        autocomplete="off" [value]="false"
                                                                        [(ngModel)]="vehiculeContrat.assujettieTVA">
                                                                    Non
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <br>

                                                        <div class="row">

                                                            <div class="col-sm-1">
                                                                <br>
                                                                <span style="font-weight:bold;"><label
                                                                        jhiTranslate="auxiliumApp.sinisterPec.home.LieuDuSinister">Lieu
                                                                        du
                                                                        Sinister</label></span>
                                                            </div>

                                                            <div class="col-sm-2">
                                                                <label
                                                                    jhiTranslate="auxiliumApp.reparateur.gouvernorat">gouvernorat</label>
                                                                <select class="form-control form-control-sm"
                                                                    id="field_lieu" name="lieu"
                                                                    [(ngModel)]="sinisterPec.governorateId"
                                                                    (ngModelChange)="fetchDelegationsByGovernorate(sinisterPec.governorateId)"
                                                                    required [disabled]="!enableField">
                                                                    <option [ngValue]="governorate.id"
                                                                        *ngFor="let governorate of governorates; trackBy: trackGouvernoratById">
                                                                        {{governorate.label}}
                                                                    </option>
                                                                </select>
                                                            </div>

                                                            <div class="col-sm-2">
                                                                <label jhiTranslate="auxiliumApp.sinisterPec.ville"
                                                                    for="field_ville">Ville</label>
                                                                <select class="form-control form-control-sm"
                                                                    id="field_ville" name="ville"
                                                                    [(ngModel)]="sinisterPec.delegationId"
                                                                    [disabled]="!enableField" required>
                                                                    <option [ngValue]="sysville.id"
                                                                        *ngFor="let sysville of sysvilles; trackBy: trackSysVilleById">
                                                                        {{sysville.label}}</option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <br>
                                                        <div class="row">
                                                            <div class="col-sm-2">
                                                                <div class="form-group">
                                                                    <label
                                                                        jhiTranslate="auxiliumApp.sinisterPec.casBareme"
                                                                        for="field_bareme">cas De
                                                                        Bareme</label>
                                                                    <span style="color: #FA2F03">*</span>
                                                                    <div
                                                                        [hidden]="!(frm.bareme?.dirty && frm.bareme?.invalid)">
                                                                        <small class="form-text text-danger"
                                                                            [hidden]="!frm.bareme?.errors?.required"
                                                                            jhiTranslate="entity.validation.required">This
                                                                            field is required.</small>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                        </div>
                                                        <div class="row">
                                                            <div class="col-sm-2">
                                                                <div class="form-group">
                                                                    <label jhiTranslate="auxiliumApp.refBareme.code"
                                                                        for="field_codeBareme">code
                                                                        bareme</label>
                                                                    <input type="text"
                                                                        class="form-control form-control-sm"
                                                                        name="codeBareme" id="field_codeBareme"
                                                                        [(ngModel)]="CasBareme.code" readonly />
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <div class="form-group">
                                                                    <label jhiTranslate="auxiliumApp.refBareme.tauxR"
                                                                        for="field_tauxDeResponsabilite">tauxDeResponsabilité
                                                                        bareme</label>
                                                                    <input type="text"
                                                                        class="form-control form-control-sm"
                                                                        name="tauxDeResponsabilite"
                                                                        id="field_tauxDeResponsabilite"
                                                                        [(ngModel)]="CasBareme.responsabiliteX"
                                                                        readonly />
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-3">
                                                                <div class="form-group">
                                                                    <label
                                                                        jhiTranslate="auxiliumApp.refBareme.description"
                                                                        for="field_descriptionBareme">desciption
                                                                        bareme</label>
                                                                    <textarea type="text"
                                                                        class="form-control form-control-sm"
                                                                        name="descriptionBareme"
                                                                        id="field_descriptionBareme"
                                                                        [(ngModel)]="CasBareme.description" readonly
                                                                        rows="5" cols="33">
                                                                                    </div>
                                                                                </div>
                                                                                <div> 
                                                                                    <img *ngIf="CasBareme.attachment64" [src]="getImage(CasBareme)" height="100" width="350">
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-5">
                                                                                <div class="row">
                                                                                    <div class="col-lg-10">
                                                                                        <div class="form-group" *ngIf="enableField && motfReopened">
                                                                                            <label jhiTranslate="auxiliumApp.sinisterPec.MotifsDeReprise" for="field_reopenMotifs">MotifReopen</label>
                                                                                            <select class="form-control form-control-sm" id="field_reopenMotifs" name="reopenMotifs"
                                                                                            [(ngModel)]="sinisterPec.motifsReopenedId" required>
                                                                                                <option [ngValue]="option.id" *ngFor="let option of motifsReopened">
                                                                                                        {{option.label}}
                                                                                                </option>
                                                                                            </select>
                                                                                        </div>
                                                    
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                            
                                        <!-- Tier list -->
                                        <div class="row">
                                                <div class="col-lg-12">
                                                <div class="card">
                                                    <div class=" collapsible-card card-header align-items-center collapsed notice notice-info" data-toggle="collapse" href="#collapseTier">
                                                        <strong jhiTranslate="auxiliumApp.tiers.home.title">Tiers</strong>
                                                    </div>
                                                    <div id="collapseTier" class="card-body collapse">
                                                        <div class="row" style="margin-top: 15px;">
                                                            <div class="col-sm-12">
                                                                <div class="table-responsive" *ngIf="tiers && tiers.length > 0">
                                                                    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTriggerVisAVis"
                                                                    class="table table-sm table-hover table-bordered" >
                                                                        <thead>
                                                                        <tr jhiSort  style="color: white; background-color: #167F92">
                                                                            <th><span jhiTranslate="auxiliumApp.tiers.fullName">fullName</span></th>
                                                                            <th><span jhiTranslate="auxiliumApp.contratAssurance.numeroContrat">numeroContrat</span></th>
                                                                            <th><span jhiTranslate="auxiliumApp.tiers.debutValidite">Debut Validite</span></th>
                                                                            <th><span jhiTranslate="auxiliumApp.tiers.finValidite">Fin Validite</span></th>
                                                                            <th><span jhiTranslate="auxiliumApp.tiers.compagnieAssurance">Compagnie Assurance</span></th>
                                                                            <th><span jhiTranslate="auxiliumApp.tiers.immatriculation">Immatriculation</span></th>
                                                                        
                                                                        </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                        <ng-container *ngFor="let tierr of tiers" >
                                                                            <tr *ngIf="!tierr.deleted">
                                                                                <td>{{tierr.fullName}}</td>
                                                                                <td>{{tierr.numeroContrat}}</td>
                                                                                <td>{{parseHtmlDate(tierr.debutValidite)}}</td>
                                                                                <td>{{parseHtmlDate(tierr.finValidite)}}</td>
                                                                                <td>{{tierr.compagnieNom}}</td>
                                                                                <td>{{tierr.immatriculation}}</td>
                                                                                
                                                                            </tr>
                                                                        </ng-container>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- End Tiers list -->
                            
                                        <!-- Piéces Jointes -->
                                        <div class="row">
                                            <div class="col-lg-12">
                                            <div class="card">
                                                <div class=" collapsible-card card-header align-items-center collapsed notice notice-info" data-toggle="collapse" href="#pjDetails">
                                                    <strong jhiTranslate="auxiliumApp.pieceJointe.home.title">Piece Jointes</strong>
                                                </div>
                                                <div id="pjDetails" class="card-body collapse">
                                                    <div class="row">
                                                        <div class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.pieceJointe.constat" for="attachmentConstat">constat</label>
                                                        </div>
                                                        <div class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('prestationPEC', sinisterPec.id, 'Constat')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                        <div *ngIf="faceAvantGauchePreview" class="col-sm-3"></div>
                                                        <div *ngIf="faceAvantGauchePreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.faceAvantGauche"
                                                            for="field_faceAvantGauche">faceAvantGauche</label>
                                                        </div>
                                                        <div *ngIf="faceAvantGauchePreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Face Avant Gauche')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                              
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.pieceJointe.carteGrise" for="attachmentCarteGrise">carteGrise</label>
                                                        </div>
                                                        <div class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('prestationPEC', sinisterPec.id, 'Carte Grise')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                              
                                                        <div *ngIf="compteurPreview" class="col-sm-3"></div>
                                                        <div *ngIf="compteurPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.compteur" for="compteur">compteur</label>
                                                        </div>
                                                        <div *ngIf="compteurPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Compteur')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.pieceJointe.acteDeCession"
                                                            for="attachmentActeDeCession">acteDeCession</label>
                                                        </div>
                                                        <div class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('prestationPEC', sinisterPec.id, 'Acte de cession')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                              
                                                        <div *ngIf="nSeriePreview" class="col-sm-3"></div>
                                                        <div *ngIf="nSeriePreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.nSerie" for="nSerie">nSerie</label>
                                                        </div>
                                                        <div *ngIf="nSeriePreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'NSerie')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div *ngIf="faceAvantDroitPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.faceAvantDroit" for="field_faceAvantDoit">faceAvantDoit</label>
                                                        </div>
                                                        <div *ngIf="faceAvantDroitPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Face Avant Droit')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                        <div *ngIf="immatriculationPreview" class="col-sm-3"></div>
                                                        <div *ngIf="immatriculationPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.immatriculation" for="immatriculation">immatriculation</label>
                                                        </div>
                                                        <div *ngIf="immatriculationPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Immatriculation')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div *ngIf="faceArriereDroitPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.faceArriereDroit"
                                                            for="faceArriereDroit">faceArriereDroit</label>
                                                        </div>
                                                        <div *ngIf="faceArriereDroitPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Face Arriere Droit')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                        <div *ngIf="faceArriereGauchePreview" class="col-sm-3"></div>
                                                        <div *ngIf="faceArriereGauchePreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.faceArriereGauche"
                                                            for="faceArriereGauche">faceArriereGauche</label>
                                                        </div>
                                                        <div *ngIf="faceArriereGauchePreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Face Arriere Gauche')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div *ngIf="finitionPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.finition" for="finition">finition</label>
                                                        </div>
                                                        <div *ngIf="finitionPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Finition')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                        <div *ngIf="carteGriseAvtReparationPreview" class="col-sm-3"></div>
                                                        <div *ngIf="carteGriseAvtReparationPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.carteGrise"
                                                            for="CarteGriseFileAvantReparation">CarteGriseFileAvantReparation</label>
                                                        </div>
                                                        <div *ngIf="carteGriseAvtReparationPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('quotation', sinisterPec.id, 'Carte Grise Quotation')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div *ngIf="facturePreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.facture" for="facture">facture</label>
                                                        </div>
                                                        <div *ngIf="facturePreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('facture', sinisterPec.id, 'Facture')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                        <div *ngIf="photoReparationPreview" class="col-sm-3"></div>
                                                        <div *ngIf="photoReparationPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.photoReparation"
                                                            for="photoReparation">photoReparation</label>
                                                        </div>
                                                        <div *ngIf="photoReparationPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('facture', sinisterPec.id, 'Photo de Reparation')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div *ngIf="bondeSortiePreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.reparateur.bonSortie" for="bondeSortie">Bon de Sortie signé</label>
                                                        </div>
                                                        <div *ngIf="bondeSortiePreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('signaturebonSortie', sinisterPec.id, 'BonSortie')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                        <div *ngIf="ordreDeMissionPreview" class="col-sm-3"></div>
                                                        <div *ngIf="ordreDeMissionPreview" class="col-sm-3">
                                                        <label jhiTranslate="auxiliumApp.expert.ordreDeMission"
                                                            for="ordreDeMission">ordreDeMission</label>
                                                       </div>
                                                       <div *ngIf="ordreDeMissionPreview" class="col-sm-1">
                                                            <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNewIOOB('ordreMission', sinisterPec.id, 'ordre de mission')"><i
                                                             class="fa fa-sm fa-download"></i></label>
                                                            </span>
                                                        </div>
                                                      </div>
                                                      <br />
                                                      <div class="row">
                                                        <div *ngIf="lettreIdaPreview" class="col-sm-3">
                                                          <label jhiTranslate="auxiliumApp.sinisterPec.lettreIda" for="bondeSortie">LettreIda</label>
                                                        </div>
                                                        <div *ngIf="lettreIdaPreview" class="col-sm-1">
                                                          <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNewIOOB('LettreIda', sinisterPec.id, 'LettreIda')"><i
                                                                class="fa fa-sm fa-download"></i></label>
                                                          </span>
                                                        </div>
                                                        <div *ngIf="lettreOuverturePreview" class="col-sm-3"></div>
                                                        <div *ngIf="lettreOuverturePreview" class="col-sm-3">
                                                        <label jhiTranslate="auxiliumApp.sinisterPec.lettreOuverture"
                                                            for="ordreDeMission">LettreOuverture</label>
                                                       </div>
                                                       <div *ngIf="lettreOuverturePreview" class="col-sm-1">
                                                            <span class="input-group-btn">
                                                            <button type="button" class="btn btn-sm btn-default" (click)="getPieceNewIOOB('LettreOuverture', sinisterPec.id, 'LettreOuverture')"><i
                                                             class="fa fa-sm fa-download"></i></label>
                                                            </span>
                                                        </div>
                                                      </div>
                                                      <br>
                        <div class="col-sm-12">
                            <div class="table-responsive"
                                *ngIf="piecesAttachmentsPecPlus && piecesAttachmentsPecPlus.length > 0">
                                <table class="table table-sm table-hover table-bordered">
                                    <thead>
                                        <tr jhiSort style="color: white; background-color: #167F92">
                                            <th jhiSortBy="date"><span
                                                    jhiTranslate="auxiliumApp.pieceJointe.libelle">Libelle</span>
                                                <span class="fa fa-sort"></span></th>
                                                <th jhiSortBy="date"><span
                                                    jhiTranslate="auxiliumApp.pieceJointe.dateCreation">Date
                                                    Creation</span>
                                                <span class="fa fa-sort"></span></th>

                                            <th><span
                                                    jhiTranslate="auxiliumApp.pieceJointe.file">Fichier</span>
                                                <span class="fa fa-sort"></span></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let piecesjointe of piecesAttachmentsPecPlus">
                                            <td>{{piecesjointe.label}}</td>
                                            <td>{{piecesjointe.creationDate | date:'dd/MM/yyyy HH:mm:ss'}}</td>

                                            <td class="text-right">
                                                <div class="btn-group flex-btn-group-container">
                                                    <button type="button" class="btn btn-sm btn-default"
                                                        (click)="getPieceForAttachment('PLUSPHOTOPEC', piecesjointe.id, piecesjointe.originalName)"><i
                                                            class="fa fa-sm fa-download"></i></button>
                                                </div>
                                            </td>

                                            </ng-container>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                                                      <br>
                                                      <div class="col-sm-12">
                                                        <div class="table-responsive"
                                                            *ngIf="piecesAttachmentsAccordSigne && piecesAttachmentsAccordSigne.length > 0">
                                                            <table class="table table-sm table-hover table-bordered">
                                                                <thead>
                                                                    <tr jhiSort style="color: white; background-color: #167F92">
                                                                        <th jhiSortBy="date"><span
                                                                                jhiTranslate="auxiliumApp.pieceJointe.libelle">Libelle</span>
                                                                            <span class="fa fa-sort"></span></th>
                            
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.pieceJointe.file">Fichier</span>
                                                                            <span class="fa fa-sort"></span></th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let piecesjointe of piecesAttachmentsAccordSigne">
                                                                        <td>{{piecesjointe.label}}</td>
                            
                                                                        <td class="text-right">
                                                                            <div class="btn-group flex-btn-group-container">
                                                                                <button type="button" class="btn btn-sm btn-default"
                                                                                    (click)="getPieceForAttachment('APEC Accord', piecesjointe.id, piecesjointe.originalName)"><i
                                                                                        class="fa fa-sm fa-download"></i></button>
                                                                            </div>
                                                                        </td>
                            
                                                                        </ng-container>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                      <br />
                                                      <div class="col-lg-12" *ngIf="piecesAttachments && piecesAttachments.length > 0">
                                                        <div class="row">
                                                            <div class="table-responsive">
                                                                <table class="table table-sm table-hover table-bordered">
                                                                    <thead>
                                                                        <tr jhiSort style="color: white; background-color: #167F92">
                                                                            <th jhiSortBy="date"><span
                                                                                    jhiTranslate="auxiliumApp.pieceJointe.libelle">Libelle</span>
                                                                                <span class="fa fa-sort"></span></th>
                                                                                <th jhiSortBy="date"><span
                                                                                    jhiTranslate="auxiliumApp.pieceJointe.dateCreation">Date
                                                                                    Creation</span>
                                                                                <span class="fa fa-sort"></span></th>
                            
                                                                            <th><span
                                                                                    jhiTranslate="auxiliumApp.pieceJointe.file">Fichier</span>
                                                                                <span class="fa fa-sort"></span></th>
                                                                            
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr *ngFor="let piecesjointe of piecesAttachments">
                                                                            <td>{{piecesjointe.label}}</td>
                                                                            <td>{{piecesjointe.creationDate | date:'dd/MM/yyyy HH:mm:ss'}}</td>
                            
                                                                            <td class="text-right">
                                                                                <div class="btn-group flex-btn-group-container">
                                                                                    <button type="button" class="btn btn-sm btn-default"
                                                                                        (click)="getPieceForAttachment('PHOTOREPARATION', piecesjointe.id, piecesjointe.originalName)"><i
                                                                                            class="fa fa-sm fa-download"></i></button>
                                                                                </div>
                                                                            </td>
                                                                            
                            
                                                                            </ng-container>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                            
                                                    </div>
                                                    <br>
                                                </div>
                                            </div>
                                        </div>
                                    </div> 

                                    <div class="row" *ngIf="pointChocExpertiseAttachments && pointChocExpertiseAttachments.length > 0">
                                        <div class="col-lg-12">
                                        <div class="card">
                                            <div class=" collapsible-card card-header align-items-center collapsed notice notice-info" data-toggle="collapse" href="#pjExpertise">
                                                <strong>Photos aprés expertise terrain</strong>
                                            </div>
                                            <div id="pjExpertise" class="card-body collapse">
                                                <div class="row">
                                                    <div class="col-sm-3">
                                                      <label jhiTranslate="auxiliumApp.reparateur.pointChoc1" for="attachmentPointChoc1">Point Choc 1</label>
                                                    </div>
                                                    <div class="col-sm-1">
                                                      <span class="input-group-btn">
                                                        <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('pointChocExpertise', sinisterPec.id, 'Point Choc 1')"><i
                                                            class="fa fa-sm fa-download"></i></label>
                                                      </span>
                                                    </div>
                                                    <div class="col-sm-3"></div>
                                                    <div class="col-sm-3">
                                                      <label jhiTranslate="auxiliumApp.reparateur.pointChoc2"
                                                        for="attachmentPointChoc2">Point Choc 2</label>
                                                    </div>
                                                    <div class="col-sm-1">
                                                      <span class="input-group-btn">
                                                        <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('pointChocExpertise', sinisterPec.id, 'Point Choc 2')"><i
                                                            class="fa fa-sm fa-download"></i></label>
                                                      </span>
                                                    </div>
                                          
                                                  </div>
                                                  <br />
                                                  <div class="row">
                                                    <div class="col-sm-3">
                                                      <label jhiTranslate="auxiliumApp.reparateur.pointChoc3" for="attachmentpointChoc3">Point Choc 3</label>
                                                    </div>
                                                    <div class="col-sm-1">
                                                      <span class="input-group-btn">
                                                        <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('pointChocExpertise', sinisterPec.id, 'Point Choc 3')"><i
                                                            class="fa fa-sm fa-download"></i></label>
                                                      </span>
                                                    </div>
                                          
                                                    <div class="col-sm-3"></div>
                                                    <div class="col-sm-3">
                                                      <label jhiTranslate="auxiliumApp.reparateur.pointChoc4" for="attachmentpointChoc4">Point Choc 4</label>
                                                    </div>
                                                    <div class="col-sm-1">
                                                      <span class="input-group-btn">
                                                        <button type="button" class="btn btn-sm btn-default" (click)="getPieceNew('pointChocExpertise', sinisterPec.id, 'Point Choc 4')"><i
                                                            class="fa fa-sm fa-download"></i></label>
                                                      </span>
                                                    </div>
                                                  </div>
                                                  <br />
                                                  
                                                <div class="col-sm-12">
                                                    <div class="table-responsive"
                                                        *ngIf="piecesAttachmentsExpertise && piecesAttachmentsExpertise.length > 0">
                                                        <table class="table table-sm table-hover table-bordered">
                                                            <thead>
                                                                <tr jhiSort style="color: white; background-color: #167F92">
                                                                    <th jhiSortBy="date"><span
                                                                            jhiTranslate="auxiliumApp.pieceJointe.libelle">Libelle</span>
                                                                        <span class="fa fa-sort"></span></th>
                                                                        <th jhiSortBy="date"><span
                                                                            jhiTranslate="auxiliumApp.pieceJointe.dateCreation">Date
                                                                            Creation</span>
                                                                        <span class="fa fa-sort"></span></th>
                            
                                                                    <th><span
                                                                            jhiTranslate="auxiliumApp.pieceJointe.file">Fichier</span>
                                                                        <span class="fa fa-sort"></span></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let piecesjointe of piecesAttachmentsExpertise">
                                                                    <td>{{piecesjointe.label}}</td>
                                                                    <td>{{piecesjointe.creationDate | date:'dd/MM/yyyy HH:mm:ss'}}</td>
                            
                                                                    <td class="text-right">
                                                                        <div class="btn-group flex-btn-group-container">
                                                                            <button type="button" class="btn btn-sm btn-default"
                                                                                (click)="getPieceForAttachment('EXPERTISE', piecesjointe.id, piecesjointe.originalName)"><i
                                                                                    class="fa fa-sm fa-download"></i></button>
                                                                        </div>
                                                                    </td>
                            
                                                                    </ng-container>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                                       
        
        <div class="row" *ngIf="imprimesAttachments.length > 0">
            <div class="col-lg-12">
            <div class="card">
        
                <div class=" collapsible-card card-header align-items-center collapsed notice notice-info" data-toggle="collapse" href="#Imprime">
                    <strong > Imprimé</strong>
                </div>
                <div id="Imprime" class="card-body collapse">
                    <div class="row">
                            
                            <div class="col-lg-12">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-sm table-hover table-bordered" style="width: 100%">
                                    <thead style="color:white;background-color:#11859b">
                                        <tr>
                                            <th><span jhiTranslate="auxiliumApp.sinisterPec.typePiece">type de pièce</span></th>
                                            <th><span jhiTranslate="auxiliumApp.sinisterPec.nameUserCreate">création user</span></th>
                                            <th><span jhiTranslate="auxiliumApp.sinisterPec.dateCreation">date création</span></th>
                                            <th><!--<span jhiTranslate="auxiliumApp.sinisterPec.piece">lien</span>--></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let pieceAttch of imprimesAttachments ;">
                                            <td>{{pieceAttch.label}}</td>
                                            <td>{{pieceAttch.firstNameUser}} {{pieceAttch.lastNameUser}}</td>
                                            <td>{{pieceAttch.creationDate | date:'dd/MM/yyyy HH:mm:ss'}}</td>
                                            <td class="text-right">
                                                <div class="btn-group flex-btn-group-container">
                                                    <button type="button" (click)="getPieceForAttachment('imprimePec', pieceAttch.id, pieceAttch.originalName)" class="btn btn-sm btn-default"><i
                                                            class="fa fa-sm fa-download"></i></button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    </div>
                      
                </div>
            </div>
        </div>
        </div> 
        
        
        <!-- Imprimé -->
<div class="row" *ngIf="piecesJointesAttachments.length > 0">
    <div class="col-lg-12">
    <div class="card">

        <div class=" collapsible-card card-header align-items-center collapsed notice notice-info" data-toggle="collapse" href="#Imprime">
            <strong > Autres Pièces jointes</strong>
        </div>
        <div id="Imprime" class="card-body collapse">
            <div class="row">
                    
                    <div class="col-lg-12">
                <div class="card-body">
                    <div class="table-responsive">
                        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-sm table-hover table-bordered" style="width: 100%">
                            <thead style="color:white;background-color:#11859b">
                                <tr>
                                    <th><span jhiTranslate="auxiliumApp.sinisterPec.typePiece">type de pièce</span></th>
                                    <th><span jhiTranslate="auxiliumApp.sinisterPec.nameUserCreate">création user</span></th>
                                    <th><span jhiTranslate="auxiliumApp.sinisterPec.dateCreation">date création</span></th>
                                    <th><span jhiTranslate="auxiliumApp.sinisterPec.description">note</span></th>
                                    <th><!--<span jhiTranslate="auxiliumApp.sinisterPec.piece">lien</span>--></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let pieceAttch of piecesJointesAttachments ;">
                                    <td>{{pieceAttch.label}}</td>
                                    <td>{{pieceAttch.firstNameUser}} {{pieceAttch.lastNameUser}}</td>
                                    <td>{{pieceAttch.creationDate | date:'dd/MM/yyyy HH:mm:ss'}}</td>
                                    <td>{{pieceAttch.note}}</td>
                                    <td class="text-right">
                                        <div class="btn-group flex-btn-group-container">
                                            <button type="button" (click)="getPieceForAttachment('autresPiecesJointes', pieceAttch.id, pieceAttch.originalName)" class="btn btn-sm btn-default"><i
                                                    class="fa fa-sm fa-download"></i></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            </div>
              
        </div>
    </div>
</div>
</div>

<!-- Lieu de Réparation / Expert -->
<div class="row" *ngIf="!isSinPecBonSortie && !isSinPecVerifOrgPrinted">
    <div class="col-lg-12">
    <div class="card">

        <div class=" collapsible-card card-header align-items-center collapsed notice notice-info" data-toggle="collapse" href="#LieuReparation">
            <strong > Lieu de Réparation / Expert</strong>
        </div>
        <div id="LieuReparation" class="card-body collapse">
            <div class="row">
                <div class="col-sm-2">
                    <br>
                    <span style="font-weight:bold;">
                    <label jhiTranslate="auxiliumApp.reparateur.home.LieuDuReparation">Lieu Du Reparation</label></span>
                            
                    </div>
            <div class="col-sm-3">
                <label jhiTranslate="auxiliumApp.reparateur.gouvernorat">gouvernoratRep</label>
                <select required class="form-control form-control-sm" id="field_lieuRep" name="lieuRep"
                    [(ngModel)]="sinisterPec.gouvernoratRepId"
                    (ngModelChange)="fetchDelegationsByGovernorateRep(sinisterPec.gouvernoratRepId)" [disabled] = "!enableField">
                    <option [ngValue]="governorateRep.id" *ngFor="let governorateRep of governorates; trackBy: trackGouvernoratRepById">
                        {{governorateRep.label}}
                    </option>
                </select>
            </div>
            <div class="col-sm-3">
                <label jhiTranslate="auxiliumApp.sinisterPec.ville" for="field_villeRep">Ville</label>
                <select required class="form-control form-control-sm" id="field_villeRep" name="villeRep"
                    [(ngModel)]="sinisterPec.villeRepId" [disabled]="!enableField">
                    <option [ngValue]="sysvilleRep.id"
                        *ngFor="let sysvilleRep of sysvillesRep; trackBy: trackSysVilleRepById">
                        {{sysvilleRep.label}}</option>
                </select>
            </div>
        </div>
            <div class="row" *ngIf="sinisterPec.expertId !== null">
            <div class="col-sm-3">
                    <label jhiTranslate="auxiliumApp.sinisterPec.expert">expert</label>
                    <select  class="form-control form-control-sm" id="field_expert" name="expert"
                        [(ngModel)]="sinisterPec.expertId"  [disabled] = "!enableField" >
                        <option [ngValue]="expert.id" *ngFor="let expert of experts">
                            {{expert.raisonSociale}}
                        </option>
                    </select>
                </div>
        </div>   
        </div>
    </div>
</div>
</div>
<!-- Lieu de Réparation / Expert -->
         
   <!-- Points choc -->
   <div class="row" *ngIf="!isSinPecBonSortie && !isSinPecVerifOrgPrinted">
    <div class="col-lg-12">
<span class="anchor" id="formUserEdit"></span>
<div class="card">
<div class=" collapsible-card card-header align-items-center collapsed notice notice-info" data-toggle="collapse" href="#pcDetails">
<strong >Point de choc</strong>
</div>
<div id="pcDetails" class="card-body collapse"> 

<div class="container-fluid   bg-Point-choc " style="height: 800px; position:relative">

</div>

<div class="row top-buffer">
  

  <div class="col-sm-3">
          <input type="checkbox" class="check-input" style="position: absolute;top: -800px;left: 173%;" name="avant"
          id="field_isavant" [(ngModel)]="pointChoc.avant" [disabled] = "!enableField"  (ngModelChange)="pointChocObligatoire()" />
  </div>  
</div>  



<div class="row top-buffer">

      
      <div class="col-sm-1">
              <input type="checkbox" class="check-input" style="    position: absolute;
              top: -594px;
              left: 130%;" name="lateraleGaucheAvant"
              id="field_islatéraleGaucheAvant"  [(ngModel)]="pointChoc.lateraleGaucheAvant" [disabled] = "!enableField"   (ngModelChange)="pointChocObligatoire()"   />

      </div> 
   
      <div class="col-sm-7">
          
      <input type="checkbox" class="check-input" name="avantGauche" style="position: absolute;
      top: -573px;
      left: 12%;"
      id="field_isAvantGauche"  [(ngModel)]="pointChoc.avantGauche"  [disabled] = "!enableField" (ngModelChange)="pointChocObligatoire()"  />

      </div>
    
      <div class="col-sm-1">
              <input type="checkbox" class="check-input" name="avantDroite" style="position: absolute;
              top: -625px;
              left: 67%;"
              id="field_isavantDroite"  [(ngModel)]="pointChoc.avantDroite"  [disabled] = "!enableField" (ngModelChange)="pointChocObligatoire()"  />
      </div>
    

   </div>

   <div class="row top-buffer">
          <div class="col-sm-1">
                  <input type="checkbox" class="check-input" name="lateraleGauche" style="position: absolute;
                  top: -363px;
                  left: 50%;"
                  id="field_islateraleGauche"  [(ngModel)]="pointChoc.lateraleGauche" [disabled] = "!enableField" (ngModelChange)="pointChocObligatoire()"   /> 
          </div> 
          <div class="col-sm-3"> 
                  <input type="checkbox" class="check-input" name="retroviseurGauche"style="position: absolute;
                  left: 25%;
                  top: -507px;"
                  id="field_isretroviseurGauche"  [(ngModel)]="pointChoc.retroviseurGauche" [disabled] = "!enableField" (ngModelChange)="pointChocObligatoire()"  /> 
          </div>  
          <div class="col-sm-3">
               
                  <input type="checkbox" class="check-input" name="pareBriseAvant" style="position: absolute;
                  top: -523px;
                  left: 36%;"
                  id="field_ispareBriseAvant"  [(ngModel)]="pointChoc.pareBriseAvant"  [disabled] = "!enableField" (ngModelChange)="pointChocObligatoire()"  />
          </div>

        
          <div class="col-sm-1">
                  <input type="checkbox" class="check-input" name="retroviseurDroite" [disabled] = "!enableField"
                  style="position: absolute;
                  top: -511px;
                  left: 98%;" id="field_isretroviseurDroite"  [(ngModel)]="pointChoc.retroviseurDroite"  (ngModelChange)="pointChocObligatoire()" />
          </div>
       
          <div class="col-sm-1">
                  <input type="checkbox" class="check-input" name="lateraleDroiteAvant" [disabled] = "!enableField"
                  style="position: absolute;
                  top: -508px;
                  left: 165%;"  id="field_islateraleDroiteAvant"  [(ngModel)]="pointChoc.lateraleDroiteAvant"  (ngModelChange)="pointChocObligatoire()"   />
          </div>
          <div class="col-sm-1">
                  <input type="checkbox" class="check-input" name="lateraleDroite" [disabled] = "!enableField"
                  id="field_islateraleDroite" style="position: absolute;
                  top: -465px;
                  left: 155%;"  [(ngModel)]="pointChoc.lateraledroite"  (ngModelChange)="pointChocObligatoire()"   />
              </div>
       </div>  
    
       <div class="row top-buffer">
              <div class="col-sm-1">
              </div>  
             
              <div class="col-sm-7">     ;
                      <input type="checkbox" class="check-input" name="vitreAvantGauche" [disabled] = "!enableField"
                      id="field_isvitreAvantGauche" style="position: absolute;
                      top: -494px;
                      left: 12%;" [(ngModel)]="pointChoc.vitreAvantGauche"  (ngModelChange)="pointChocObligatoire()"  />
              </div> 
             
              <div class="col-sm-3">
                      <input type="checkbox" class="check-input" name="vitreAvantDroit" [disabled] = "!enableField"
                      id="field_isvitreAvantDroit"  style="position: absolute;
                      top: -487px;
                      left: 36%;" [(ngModel)]="pointChoc.vitreAvantDroit"  (ngModelChange)="pointChocObligatoire()"  />

                  </div> 
           </div>  
        
           <div class="row top-buffer">
                  <div class="col-sm-5">
                  </div> 
                  <div class="col-sm-3">
                          <input type="checkbox" class="check-input" name="toit" [disabled] = "!enableField"
                          id="field_istoit" style="position: absolute;
                          top: -492px;
                          left: 6%;" [(ngModel)]="pointChoc.toit"  (ngModelChange)="pointChocObligatoire()"  />

                  </div>  
               </div> 


              </br>
               <div class="row top-buffer">
                      <div class="col-sm-1">
                      </div>  
                      <div class="col-sm-7">
                              <input type="checkbox" class="check-input" name="vitreArriereGauche" [disabled] = "!enableField"
                              id="field_isvitreArriereGauche"  style="position: absolute;
                              top: -475px;
                              left: 13%;" [(ngModel)]="pointChoc.vitreArriereGauche"  (ngModelChange)="pointChocObligatoire()" />
                      </div>  
                      <div class="col-sm-3">
                              <input type="checkbox" class="check-input" name="vitreArriereDroit" [disabled] = "!enableField"
                              id="field_isvitreArrieredroit"  style="position: absolute;
                              top: -476px;
                              left: 13%;"  [(ngModel)]="pointChoc.vitreArriereDroit"  (ngModelChange)="pointChocObligatoire()"  />
                          </div>  
                   </div>  

                       </br>
                   <div class="row top-buffer">
                        
                          <div class="col-sm-1">
                     </div> 
                          &nbsp;
                          <div class="col-sm-7">
                                  <input type="checkbox" class="check-input" name="triangleArriereGauche" [disabled] = "!enableField"
                                  id="field_istriangleArriereGauche" style="position: absolute;
                                  top: -447px;
                                  left: 9%;"  [(ngModel)]="pointChoc.triangleArriereGauche"   (ngModelChange)="pointChocObligatoire()" /> 
                          </div>
                        
                          <div class="col-sm-1">
                                  <input type="checkbox" class="check-input" name="triangleArriereDroit" [disabled] = "!enableField"
                                  id="field_istriangleArriereDroit" style="position: absolute;
                                  top: -452px;
                                  left: 17%;"  [(ngModel)]="pointChoc.triangleArriereDroit" (ngModelChange)="pointChocObligatoire()"  /> 
                          </div>
                       
                       </div>


                       <div class="row top-buffer">
                              <div class="col-sm-5">
                              </div> 
                              
                              <div class="col-sm-3">
                                      <input type="checkbox" class="check-input" name="lunetteArriere" [disabled] = "!enableField"
                                      id="field_islunetteArriere" style="position: absolute;
                                      top: -440px;
                                      left: 8%;" [(ngModel)]="pointChoc.lunetteArriere"  (ngModelChange)="pointChocObligatoire()"  /> 
                              </div>  
                           </div>


                   <div class="row top-buffer">
                          <div class="col-sm-1">
                                  <input type="checkbox" class="check-input" name="lateraleGaucheArriere" [disabled] = "!enableField"
                                  id="field_islateraleGaucheArriere"  style="position: absolute;
                                  top: -444px;
                                  left: 100%;" [(ngModel)]="pointChoc.lateraleGauchearriere"  (ngModelChange)="pointChocObligatoire()" />
                          </div>  
                                  <div class="col-sm-7">
                                          <input type="checkbox" class="check-input" name="arriereGauche" [disabled] = "!enableField"
                                          id="field_isarriereGauche" style="position: absolute;
                                          top: -382px;
                                          left: 14%;"  [(ngModel)]="pointChoc.arriereGauche"  (ngModelChange)="pointChocObligatoire()"  /> 
                                  </div>
                                  <div class="col-sm-1">
                                          <input type="checkbox" class="check-input" name="arriereDroite" [disabled] = "!enableField"
                                          id="field_isarriereDroite" style="position: absolute;
                                          top: -356px;
                                          left: 36%;" [(ngModel)]="pointChoc.arriereDroite"  (ngModelChange)="pointChocObligatoire()"  /> 
                                  </div>
                                  <div class="col-sm-1">
                                          <input type="checkbox" class="check-input" name="lateraleDroiteArriere" [disabled] = "!enableField"
                                          id="field_islateraleDroiteArriere" style="position: absolute;
                                          top: -481px;
                                          left: 55%;" [(ngModel)]="pointChoc.lateraleDroiteArriere"  (ngModelChange)="pointChocObligatoire()"  /> 
                                  </div>
                                  <div class="col-sm-1">
                                  </div>
                  </div> 


              <div class="row top-buffer">
                      <div class="col-sm-3">
                          </div>  
                          <div class="col-sm-2">
                              </div>  
                      <div class="col-sm-3">
                              <input type="checkbox" class="check-input" name="arriere" [disabled] = "!enableField"
                              id="field_isarriere" style="position: absolute;
                              top: -263px;
                              left: 32%;" [(ngModel)]="pointChoc.arriere"  (ngModelChange)="pointChocObligatoire()"  /> 
                      </div>  
                   </div>                             


<div class="row top-buffer">
    &nbsp;   <span > &nbsp;     Description du point de choc  :  &nbsp; </span>
<span *ngIf="pointChoc.toit">Toit &nbsp;</span>
<span *ngIf="pointChoc.avant">Avant &nbsp;</span>
<span *ngIf="pointChoc.arriere" >Arriére &nbsp;</span>
<span *ngIf="pointChoc.arriereGauche" >Arriére Gauche &nbsp;</span>
<span *ngIf="pointChoc.lateraleGauche" >Latérale Gauche &nbsp;</span>
<span *ngIf="pointChoc.lateraleGauchearriere">Latérale Gauche Arrière &nbsp;</span>
<span *ngIf="pointChoc.lateraleGaucheAvant">Latérale Gauche Avant &nbsp;</span>
<span *ngIf="pointChoc.arriereDroite" >Arriére Droite &nbsp;</span>
<span *ngIf="pointChoc.lateraledroite" >Latérale Droite &nbsp;</span>
<span *ngIf="pointChoc.lateraleDroiteAvant" >Latérale Droite Avant &nbsp;</span>

<span *ngIf="pointChoc.lateraleDroiteArriere"> Latérale Droite Arriére &nbsp;</span>
<span *ngIf="pointChoc.avantGauche"> Avant Gauche &nbsp;</span>
<span *ngIf="pointChoc.avantDroite" > Avant Droite &nbsp;</span>
<span *ngIf="pointChoc.retroviseurGauche" > Retroviseur Gauche &nbsp;</span>
<span *ngIf="pointChoc.retroviseurDroite" > Retroviseur Droite  &nbsp;</span>

<span *ngIf="pointChoc.lunetteArriere"> Lunette Arriére &nbsp;</span>
<span *ngIf="pointChoc.pareBriseAvant"> Pare Brise Avant &nbsp;</span>
<span *ngIf="pointChoc.triangleArriereGauche" > Triangle Arriére Gauche &nbsp;</span>
<span *ngIf="pointChoc.triangleArriereDroit" > Triangle Arriére Droit &nbsp;</span>
<span *ngIf="pointChoc.vitreAvantDroit" > Vitre Avant Droit &nbsp;</span>

<span *ngIf="pointChoc.vitreAvantGauche"> Vitre Avant Gauche  &nbsp;</span>
<span *ngIf="pointChoc.vitreArriereDroit"> Vitre Arriére Droit  &nbsp;</span>
<span *ngIf="pointChoc.vitreArriereGauche"> Vitre Arriére Gauche  &nbsp;</span>

</div>
</div>
</div>

</div>
</div>



<!-- End Points Choc -->


                        
                                                    <!-- Début Affectation Reparateur -->
                                                    <!--<div class="row" *ngIf="affectReparateur &&!isSinPecBonSortie && !isSinPecVerifOrgPrinted ">
                                                        <div class="col-lg-12">
                                                            <div class="card">
                                                                <div class=" collapsible-card card-header align-items-center collapsed notice notice-info"
                                                                    data-toggle="collapse" href="#reparateursDetails">
                                                                    <strong jhiTranslate="entity.affectReparateur.title">Affectation
                                                                        Réparateur</strong>
                                                                </div>
                                                                <div id="reparateursDetails" class="card-body collapse">
                                                                    <div class="col-sm-12">
                                                                            <div class="row">
                                                                                <div class="col-sm-3">
                                                                                    <label
                                                                                        jhiTranslate="auxiliumApp.prestationPEC.gouvernorat">gouvernorat</label>
                                                                                    <select class="form-control form-control-sm"
                                                                                        style="background-color: white" id="field_gouvernorat"
                                                                                        name="field_gouvernorat"
                                                                                        [(ngModel)]="selectedGouvernorat"
                                                                                        (ngModelChange)="listReparateursByGouvernorat(selectedGouvernorat);" [disabled] = "annulerAffectReparateur">
                                                                                        <option [ngValue]="gouvernoratsOption.id"
                                                                                            *ngFor="let gouvernoratsOption of sysgouvernorats; ">
                                                                                            {{gouvernoratsOption?.label}}</option>
                                                                                    </select>
                                                                                </div>
                                                                                <div class="col-sm-3">
                                                                                    <label
                                                                                        jhiTranslate="auxiliumApp.reparateur.home.title">Réparateurs</label>
                                                                                    <select class="form-control form-control-sm"
                                                                                        style="background-color: white" id="field_reparateur"
                                                                                        name="field_reparateur" [(ngModel)]="sinisterPec.reparateurId"
                                                                                        (ngModelChange)="nbreMissionByReparateur(sinisterPec.reparateurId)" [disabled] = "annulerAffectReparateur">
                                                                                        <option [ngValue]="reparateur.id"
                                                                                            *ngFor="let reparateur of reparateurs;">
                                                                                            {{reparateur.raisonSociale}}
                                                                                        </option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>
                                                                        
                                                                    </div>
                        
                        
                                                                    <div class="col-sm-12">
                                                                        <div class="row">
                                                                                <div class="col-sm-3">
                                                                                        <label jhiTranslate="auxiliumApp.reparateur.capacite"
                                                                                            for="field_nbmissionreparateur"> capacité reparateur
                                                                                            affectés</label>
                                                                                        <div class="input-group">
                                                                                            <input id="field_capacite_reparateur" type="text"
                                                                                                class="form-control form-control-sm"
                                                                                                name="capacitereparateur"
                                                                                                [(ngModel)]="capacite" readonly />
                                
                                                                                        </div>
                                                                                    </div>
                                                                            <div class="col-sm-3">
                                                                                 <label jhiTranslate="auxiliumApp.reparateur.nbmissions"
                                                                                    for="field_nbmissionreparateur">Nombres des missions
                                                                                    affectés</label>
                                                                                <div class="input-group">
                                                                                    <input id="field_nbmissionreparateur" type="text"
                                                                                        class="form-control form-control-sm"
                                                                                        name="nbmissionreparateur"
                                                                                        [(ngModel)]="nbmissionreparateur" readonly />
                        
                                                                                </div>
                                                                            </div>
                        
                                                                            <div class="col-lg-4">
                                                                                <div class="form-group">
                                                                                    <label class="form-control-label" jhiTranslate="auxiliumApp.sinisterPec.dateRdvReparateur"
                                                                                        for="field_dateRdvReparateur">dateRdvReparateur</label>
                                                                                    <div class="input-group">
                                                                                        <input id="field_dateRdvReparateur" type="text" class="form-control form-control-sm" name="dateRdvReparateur" ngbDatepicker #insuredArrivalDate="ngbDatepicker" [minDate]="myDate"
                                                                                            [(ngModel)]="sinisterPec.dateRDVReparation"  [minDate]="myDate" required [disabled] = "annulerAffectReparateur"/>
                                                                                        <span class="input-group-btn">
                                                                                            <button type="button" class="btn btn-sm btn-default" (click)="insuredArrivalDate.toggle()"><i class="fa fa-sm fa-calendar"></i></button>
                                                                                        </span>&nbsp;&nbsp;
                                                                                        <ngb-timepicker  size="small" [(ngModel)]="reparateurArrivalTime" [spinners]="false" name="insuredArrivalTime"  min="9:00" max="18:00" [disabled] = "annulerAffectReparateur" required>    <span class="note">Les heures de bureau sont de 9h à
                                                                                            18h</span></ngb-timepicker>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                        
                                                                        </div>
                        
                           
                                                                        <div class="col-sm-6">
                                                                            <div *ngIf="annulerAffectReparateur">
                                                                                <label class="form-control-label"
                                                                                    jhiTranslate="auxiliumApp.refRemorqueur.motifs">sélectionnez
                                                                                    un motif</label>
                                                                                <select class="form-control form-control-sm"
                                                                                    id="field_motif" name="motif"
                                                                                    [(ngModel)]="sinisterPec.reasonCancelAffectedRepId" required>
                                                                                    <option [ngValue]="refMotifOption.id"
                                                                                        *ngFor="let refMotifOption of motifs; trackBy: trackMotifsById">
                                                                                        {{refMotifOption.label}}</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>
                        
                        
                        
                        
                        
                                                                    </div>
                        
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>-->
                        
                                                    <!-- Fin Affectation Reparateur -->
                        
                        
                        
                        
                        
                        
                        
                        
                        
                                                    <div class="row">
                                                        <div class="col-lg-12">
                            
                                                            <div class="card">
                                                                <div class=" collapsible-card card-header align-items-center collapsed notice notice-info"
                                                                    data-toggle="collapse" href="#collapseOb">
                                                                    <strong>Observations </strong>
                                                                </div>
                                                            </div>
                                                            <div id="collapseOb" class="card-body collapse">
                                                                <div class="row">
                                                                    <div class="col-sm-6">
                                                                        <input type="text" class="form-control form-control-sm" name="observation"
                                                                            id="observationId" [(ngModel)]="observation.commentaire" />
                                                                        <div [hidden]="!isCommentError">
                                                                            <small class="form-text text-danger" [hidden]="!isCommentError"
                                                                                jhiTranslate="entity.validation.required">This
                                                                                field is required.</small>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-2">
                                                                        <button *ngIf="!isObsModeEdit" class="btn btn-sm btn-primary addnew"
                                                                            (click)="addObservation();">
                                                                            <span class="fa fa-plus"></span>
                                                                            <span jhiTranslate="auxiliumApp.observation.home.createLabel">Create new
                                                                                Observation
                                                                            </span>
                                                                        </button>
                                                                        <button *ngIf="isObsModeEdit" class="btn btn-sm btn-primary addnew"
                                                                            (click)="editObservation();">
                                                                            <span class="fa fa-pencil"></span>
                                                                            <span jhiTranslate="auxiliumApp.observation.home.editLabel">Edit
                                                                                Observation
                                                                            </span>
                                                                        </button>
                                                                       
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 15px;">
                                                                    <div class="col-sm-12">
                                                                        <div class="table-responsive"
                                                                            *ngIf="observationss && observationss.length > 0">
                                                                            <table class="table table-sm table-hover table-bordered" style="width: 100%">
                                                                                <thead>
                                                                                    <tr jhiSort style="color: white; background-color: #167F92">
                                                                                        <th jhiSortBy="date"><span
                                                                                                jhiTranslate="auxiliumApp.observation.date">Date</span>
                                                                                            <span class="fa fa-sort"></span></th>
                                                                                        <th><span
                                                                                                jhiTranslate="auxiliumApp.observation.commentaire">Commentaire</span>
                                                                                            <span class="fa fa-sort"></span></th>
                                                                                        <th jhiSortBy="userLogin"><span
                                                                                                jhiTranslate="auxiliumApp.observation.user">Utilisateur</span>
                                                                                            <span class="fa fa-sort"></span></th>
                                                                                        <th></th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <ng-container *ngFor="let observation of observationss">
                                                                                        <tr *ngIf="!observation.deleted">
                                                                                            <td>{{observation.date  | date:'dd/MM/yy'}}</td>
                                                                                            <td>{{observation.commentaire}}</td>
                                                                                            <td>{{observation.firstName}}
                                                                                                {{observation.lastName}}</td>
                                                                                            <td class="text-right">
                                                                                                <div class="btn-group flex-btn-group-container">
                                                                                                    <button type="button"
                                                                                                        (click)="prepareEditObservation(observation)"
                                                                                                        class="btn btn-primary btn-sm">
                                                                                                        <span class="fa fa-pencil"></span>
                                                                                                    </button>
                                                                                                    <button type="button"
                                                                                                        (click)="deleteObservation(observation)"
                                                                                                        class="btn btn-danger btn-sm">
                                                                                                        <span class="fa fa-trash"></span>
                                                                                                    </button>
                                                                                                </div>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </ng-container>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                            
                                                        </div>
                            
                                                    </div>
                                            
                            </form>
                        </div>
                    </div>
                        
                </div>

              
                
                <div class="tab-pane fade in active" id="devisAvisExpert" name="devisAvisExpert" role="tabpanel">
                        
                    <div class="row" style="margin-top: 15px;">
                            <div class="col-sm-12">
                                    <br>
                                    <div class="row">
                                        <div class="col-sm-11" ></div>
                                        <div class="col-sm-1" >
    
                                            <button type="submit" class="btn btn-info btn-sm  center-block"
                                            (click)="printQuotationPdf()">
                                            <span class="fa fa-print"></span>&nbsp;
                                            <span jhiTranslate="entity.action.generation-lettre-ida">genererQuotation</span>
                                        </button>
                                            
                                        </div>
                                    </div>
                                    <br>
                                <div class="row">
                                    <!-- MO details list -->
                                    <select class="form-control form-control-sm" id="field_garanties" name="garanties"
                                    [(ngModel)]="testt" (ngModelChange)="onDevisSelect(testt)"
                                    >
                                    <option [ngValue]="list.id"
                                        *ngFor="let list of listDevis;">
                                        {{list.typeDevis}}</option>
                                </select>
                            </br>
                        </br>
                    </br>
                                    <div class="col-lg-12">
                                        <div class="card">
                                            <div class=" collapsible-card card-header align-items-center collapsed"
                                                data-toggle="collapse" href="#collapseDetailsMoAV">
                                                <h4 jhiTranslate="auxiliumApp.detailsMo.home.title">Détails
                                                    mo
                                                </h4>
                                            </div>
                                            <div id="collapseDetailsMoAV" class="card-body collapse">
                                                <div class="row">
                                                    
                                                    <div class="col-sm-12">
                                                        <div class="table-responsive"
                                                            *ngIf="detailsPiecesMOAvisExpert && detailsPiecesMOAvisExpert.length > 0">
                                                            <table class="table table-striped">
                                                                <thead>
                                                                    <tr>
                                                                        
                                                                        <th *ngIf= "detailPiecesMOTest">
                                                                            <span>Observation Expert</span>
                                                                        </th>
                                                                        <th>
                                                                            <span> Nombre MO estimé
                                                                            </span>
                                                                        </th>

                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.designation">Designation</span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.typeIntervention">Type
                                                                                d'intervention
                                                                            </span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.grille.th">th</span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.nombreHeures">Nombre
                                                                                d'heures
                                                                            </span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalHt">Total HT</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.remise">Remise</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalRemise">Total
                                                                                remise</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalApresRemise">Total
                                                                                après remise</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.grille.tva">TVA</span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalTva">Total
                                                                                TVA</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalTtc">Total TTC</span>
                                                                        </th>
                                                                        
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr
                                                                        *ngFor="let detailsPieceMo of detailsPiecesMOAvisExpert; let i=index">

                                                                       
                                                                        <td *ngIf= "detailPiecesMOTest">
                                                                            <select
                                                                            style="width: 200px"
                                                                                class="form-control form-control-sm"
                                                                                name="moObservation[{{i}}]"
                                                                                [(ngModel)]="detailsPieceMo.observationExpert"
                                                                                (ngModelChange)="DecisionExpertByObser(detailsPieceMo.observationExpert,detailsPieceMo)"
                                                                                disabled>
                                                                                <option
                                                                                    [ngValue]="expertObservation.id"
                                                                                    *ngFor="let expertObservation of detailsPieceMo.listobservationExpert">
                                                                                    {{expertObservation.label}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <td *ngIf= "detailPiecesMOTest">
                                                                            <input type="number"
                                                                                class="form-control form-control-sm"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.nombreMOEstime"
                                                                                name="nombreMOEstime[{{i}}]"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />
                                                                        </td>
                                                                        <td>
                                                                            <input class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                name="moDesignation[{{i}}]"
                                                                                [(ngModel)]="detailsPieceMo.designation"
                                                                                disabled
                                                                                >
                                                                                
                                                                        </td>
                                                                        <td>
                                                                            <select class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                [(ngModel)]="detailsPieceMo.typeInterventionId"
                                                                                (ngModelChange)="observationExpertByTypeIntervention(detailsPieceMo); changeTypeInterventionMO(detailsPieceMo)"
                                                                                disabled
                                                                                name="interventionMo[{{i}}]"
                                                                                >
                                                                                <option
                                                                                    [ngValue]="reftypeinterventionOption.id"
                                                                                    *ngFor="let reftypeinterventionOption of refOperationTypesMo">
                                                                                    {{reftypeinterventionOption.libelle}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.prixUnit"
                                                                                (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                name="puMo[{{i}}]"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 
                                                                                >
                                                                        </td>
                                                                        <td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.nombreHeures"
                                                                                (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                name="nombreHeures[{{i}}]"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />
                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                disabled
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.totalHt"
                                                                                name="moTht[{{i}}]"  />
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.discount"
                                                                                (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                name="discount[{{i}}]"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.amountDiscount"
                                                                                name="totalDiscount[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.amountAfterDiscount"
                                                                                name="amountAfterDiscountMo[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <td>
                                                                            <select class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                name="vatMo[{{i}}]"
                                                                                [(ngModel)]="detailsPieceMo.tva"
                                                                                (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                disabled
                                                                                >
                                                                                <option [ngValue]="vat.vatRate"
                                                                                    *ngFor="let vat of listVat;">
                                                                                    {{vat.vatRate}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.amountVat"
                                                                                name="amountTvaMo[{{i}}]"
                                                                                disabled
                                                                                 />
                                                                        </td>-->
                                                                        <td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="detailsPieceMo.totalTtc"
                                                                                name="moTtc[{{i}}]"
                                                                                disabled
                                                                                 />
                                                                        </td>
                                                                        

                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div class="row justify-content-center"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- home peinture list -->
                                    <div class="col-lg-12">
                                        <div class="card">
                                            <div class=" collapsible-card card-header align-items-center collapsed"
                                                data-toggle="collapse" href="#collapseHomeDAV">
                                                <h4 jhiTranslate="auxiliumApp.detailsPieces.homePeinture">
                                                    Home
                                                    Peinture
                                                </h4>
                                            </div>
                                            <div id="collapseHomeDAV" class="card-body collapse">
                                                <div class="row">
                                                    
                                                    <div class="col-sm-12">
                                                        <div class="table-responsive"
                                                            *ngIf="detailsPiecesIngredientAvisExpert && detailsPiecesIngredientAvisExpert.length > 0">
                                                            <table class="table table-striped">
                                                                <thead>
                                                                    <tr>
                                                                        
                                                                        <th *ngIf ="detailPiecesIngrTest">
                                                                            <span>Observation Expert</span>
                                                                        </th>

                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.designation">Designation</span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.typeIntervention">Type
                                                                                d'intervention
                                                                            </span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.grille.th">th</span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.nombreHeures">Nombre
                                                                                d'heures
                                                                            </span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalHt">Total HT</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.remise">Remise</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalRemise">Total
                                                                                remise</span>
                                                                        </th>-->

                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalApresRemise">Total
                                                                                après remise</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.grille.tva">TVA</span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalTva">Total
                                                                                TVA</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalTtc">Total TTC</span>
                                                                        </th>
                                                                        
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr
                                                                        *ngFor="let dpIngredient of detailsPiecesIngredientAvisExpert ; let i=index">
                                                                        

                                                                        <td *ngIf ="detailPiecesIngrTest">
                                                                            <select
                                                                            style="width: 200px"
                                                                                class="form-control form-control-sm"
                                                                                name="dpObservation[{{i}}]"
                                                                                [(ngModel)]="dpIngredient.observationExpert"
                                                                                (ngModelChange)="DecisionExpertByObser(dpIngredient.observationExpert,dpIngredient)"
                                                                                disabled
                                                                                >
                                                                                <option
                                                                                    [ngValue]="expertObservation.id"
                                                                                    *ngFor="let expertObservation of expertObservations">
                                                                                    {{expertObservation.label}}
                                                                                </option>
                                                                            </select>
                                                                        </td>

                                                                        <td>
                                                                            <input class="btn-default btn-sm"
                                                                                name="ingrDesignation[{{i}}]"
                                                                                [(ngModel)]="dpIngredient.designation"
                                                                                style="width: 100px"
                                                                                style="background-color: white"
                                                                                disabled
                                                                                >
                                                                                

                                                                        </td>
                                                                        <td>

                                                                            <select class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                [(ngModel)]="dpIngredient.typeInterventionId"
                                                                                (ngModelChange)="changeTypeInterventionIP(dpIngredient)"
                                                                                disabled
                                                                                name="interventionIng[{{i}}]"
                                                                                >
                                                                                <option
                                                                                    [ngValue]="reftypeinterventionOption.id"
                                                                                    *ngFor="let reftypeinterventionOption of refOperationTypesPeinture">
                                                                                    {{reftypeinterventionOption.libelle}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <td>

                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="dpIngredient.prixUnit"
                                                                                (ngModelChange)="changeIngredient(dpIngredient)"
                                                                                name="pu[{{i}}]"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 
                                                                                />
                                                                        </td>
                                                                        <td>

                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="dpIngredient.quantite"
                                                                                (ngModelChange)="changeIngredient(dpIngredient)"
                                                                                name="quantite[{{i}}]"
                                                                                style="width: 100px"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />
                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                [value]="dpIngredient.totalHt"
                                                                                name="ingrTht[{{i}}]" 
                                                                                style="width: 100px"
                                                                                disabled />
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="dpIngredient.discount"
                                                                                
                                                                                (ngModelChange)="changeIngredient(dpIngredient)"
                                                                                name="discountIng[{{i}}]"
                                                                                style="width: 100px"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="dpIngredient.amountDiscount"
                                                                                disabled
                                                                                name="totalDiscountIng[{{i}}]"
                                                                                >
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="dpIngredient.amountAfterDiscount"
                                                                                name="amountAfterDiscountIng[{{i}}]"
                                                                                disabled>
                                                                        </td>
                                                                        <td>-->

                                                                            <select class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                name="vatIng[{{i}}]"
                                                                                [(ngModel)]="dpIngredient.tva"
                                                                                (ngModelChange)="changeIngredient(dpIngredient)"
                                                                            
                                                                                disabled
                                                                                >
                                                                                <option [ngValue]="vat.vatRate"
                                                                                    *ngFor="let vat of listVat;">
                                                                                    {{vat.vatRate}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="dpIngredient.amountVat"
                                                                                name="amountTvaIng[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <td><input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="dpIngredient.totalTtc"
                                                                                disabled
                                                                                name="ingrTtc[{{i}}]" readonly
                                                                                style="width: 100px" />
                                                                        </td>
                                                                

                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div class="row justify-content-center"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- home fourniture list -->
                                                </br>
                                                <div class="row">
                                                    
                                                    <div class="col-sm-12">
                                                        <div class="table-responsive"
                                                            *ngIf="detailsPiecesFournitureAvisExpert && detailsPiecesFournitureAvisExpert.length > 0">
                                                            <table class="table table-striped">
                                                                <thead>
                                                                    <tr>
                                                                        
                                                                        <th *ngIf ="detailPiecesFournTest">
                                                                            <span>Observation Expert</span>
                                                                        </th>

                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.designation">Designation</span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.typeIntervention">Type
                                                                                d'intervention
                                                                            </span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.grille.th">th</span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.nombreHeures">Nombre
                                                                                d'heures
                                                                            </span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalHt">Total HT</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.remise">Remise</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalRemise">Total
                                                                                remise</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalApresRemise">Total
                                                                                après remise</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.grille.tva">TVA</span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalTva">Total
                                                                                TVA</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalTtc">Total TTC</span>
                                                                        </th>
                                                                
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr
                                                                        *ngFor="let fourniture of detailsPiecesFournitureAvisExpert ; let i=index">


                                                                        <td *ngIf ="detailPiecesFournTest">

                                                                            <select 
                                                                            style="width: 200px"
                                                                                class="form-control form-control-sm"
                                                                                name="fournObservation[{{i}}]"
                                                                                [(ngModel)]="fourniture.observationExpert"
                                                                                (ngModelChange)="DecisionExpertByObser(fourniture.observationExpert,fourniture)"
                                                                                disabled
                                                                                >
                                                                                <option
                                                                                    [ngValue]="expertObservation.id"
                                                                                    *ngFor="let expertObservation of expertObservationsPF">
                                                                                    {{expertObservation.label}}
                                                                                </option>
                                                                            </select>

                                                                        </td>

                                                                        <td>
                                                                            <input class="btn-default btn-sm"
                                                                                name="fournDesignation[{{i}}]"
                                                                                [(ngModel)]="fourniture.designation"
                                                                                style="width: 100px"
                                                                                style="background-color: white"
                                                                                disabled
                                                                                >
                                                                                

                                                                        </td>
                                                                        <td>

                                                                            <select class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                [(ngModel)]="fourniture.typeInterventionId"
                                                                                (ngModelChange)="changeTypeInterventionPF(fourniture)"
                                                                                disabled
                                                                                name="interventionFourn[{{i}}]"
                                                                                >
                                                                                <option
                                                                                    [ngValue]="reftypeinterventionOption.id"
                                                                                    *ngFor="let reftypeinterventionOption of refOperationTypesFourniture">
                                                                                    {{reftypeinterventionOption.libelle}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <td>

                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="fourniture.prixUnit"
                                                                                (ngModelChange)="changeFourniture(fourniture)"
                                                                                name="puFour[{{i}}]"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 
                                                                                />

                                                                        </td>
                                                                        <td>

                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="fourniture.quantite"
                                                                                (ngModelChange)="changeFourniture(fourniture)"
                                                                                name="quantiteFourn[{{i}}]"
                                                                                style="width: 100px"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />
                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                [value]="fourniture.totalHt"
                                                                                name="fournTht[{{i}}]" disabled
                                                                                style="width: 100px" />
                                                                        </td>-->

                                                                        <!--<td>
                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="fourniture.discount"
                                                                                (ngModelChange)="changeFourniture(fourniture)"
                                                                                name="discountFourn[{{i}}]"
                                                                                style="width: 100px" min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                disabled
                                                                                 />
                                                                        </td>-->

                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="fourniture.amountDiscount "
                                                                                name="totalDiscountFourn[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="fourniture.amountAfterDiscount"
                                                                                name="amountAfterDiscountFourn[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <td>

                                                                            <select class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                name="vatFourn[{{i}}]"
                                                                                [(ngModel)]="fourniture.tva"
                                                                                (ngModelChange)="changeFourniture(fourniture)"
                                                                                disabled
                                                                                >
                                                                                <option [ngValue]="vat.vatRate"
                                                                                    *ngFor="let vat of listVat;">
                                                                                    {{vat.vatRate}}
                                                                                </option>
                                                                            </select>

                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="fourniture.amountVat"
                                                                                name="amountTvaFourn[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <td><input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="fourniture.totalTtc"
                                                                                name="fournTtc[{{i}}]" readonly
                                                                                style="width: 100px"
                                                                                disabled />
                                                                        </td>
                                                                    
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div class="row justify-content-center"></div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- End fourniture list-->

                                            </div>
                                        </div>
                                    </div>

                                    <!-- pieces de rechange -->
                                    <div class="col-lg-12">
                                        <div class="card">
                                            <div class=" collapsible-card card-header align-items-center collapsed"
                                                data-toggle="collapse" href="#collapseHomePiecesAV">
                                                <h4 jhiTranslate="auxiliumApp.detailsPieces.homeRechange">
                                                    Home
                                                    pieces
                                                </h4>
                                            </div>

                                            <div id="collapseHomePiecesAV" class="card-body collapse">
                                                <div class="row">
                                                    
                                                    <div class="col-sm-12">
                                                        <div class="table-responsive"
                                                            *ngIf="detailsPiecesAvisExpert && detailsPiecesAvisExpert.length > 0">
                                                            <table class="table table-striped">
                                                                <thead>
                                                                    <tr>
                                                                        
                                                                        <th *ngIf ="detailPiecesTest">
                                                                            <span>Observation Expert</span>
                                                                        </th>
                                                                        <th *ngIf ="detailPiecesTest">
                                                                            <span>Vétusté</span>
                                                                        </th>

                                                                        <!--<th *ngIf ="detailPiecesTest" >
                                                                            <span>Vétusté HT </span>
                                                                        </th>
                                                                        <th *ngIf ="detailPiecesTest">
                                                                            <span> Vétusté TTC</span>
                                                                        </th>-->
                                                                        <th *ngIf ="detailPiecesTest">
                                                                            <span>% participation
                                                                                d’assuré </span>
                                                                        </th>
                                                                        <th *ngIf ="detailPiecesTest" >
                                                                            <span> type participation
                                                                                d’assuré </span>
                                                                        </th>
                                                                        <th><span>Observation</span></th>
                                                                        <th><span>Référence</span></th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsPieces.designation">Designation</span>
                                                                        </th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsPieces.prixUnit">Prix
                                                                                Unit
                                                                            </span></th>
                                                                        <th><span>Nature Pièce</span></th>
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsPieces.quantite">Quantite</span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalHt">Total Ht</span>
                                                                        </th>-->

                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.remise">Remise</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalRemise">Total
                                                                                remise</span>
                                                                        </th>-->
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalApresRemise">total
                                                                                après remise</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.grille.tva">tva</span>
                                                                        </th>
                                                                        <!--<th><span
                                                                                jhiTranslate="auxiliumApp.grille.totalTva">Total
                                                                                TVA</span>
                                                                        </th>-->
                                                                        <th><span
                                                                                jhiTranslate="auxiliumApp.detailsMo.totalTtc">Total TTC</span>
                                                                        </th>
                                                                        
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr
                                                                        *ngFor="let pieces of detailsPiecesAvisExpert ; let i=index">

                                                                    


                                                                        <td *ngIf ="detailPiecesTest"  >
                                                                            <select
                                                                            style="width: 200px"
                                                                                class="form-control form-control-sm"
                                                                                name="piecesObservation[{{i}}]"
                                                                                [(ngModel)]="pieces.observationExpert"
                                                                                (ngModelChange)="DecisionExpertByObser(pieces.observationExpert,pieces)"
                                                                                disabled style=" width: 200px; "
                                                                                >
                                                                                <option
                                                                                    [ngValue]="expertObservation.id"
                                                                                    *ngFor="let expertObservation of expertObservations">
                                                                                    {{expertObservation.label}}
                                                                                </option>
                                                                            </select>
                                                                        </td>

                                                                        <td *ngIf ="detailPiecesTest" >
                                                                            <input type="number"
                                                                                class="form-control form-control-sm"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="pieces.vetuste"
                                                                                (ngModelChange)="calculerHTVVetusteAndTTCVetuste(pieces)"
                                                                                (ngModelChange)="calculateVetuste(pieces)"
                                                                                name="vetuste[{{i}}]" min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                disabled />
                                                                            <!--   [disabled]=" pieces.observationExpert == 1 || pieces.observationExpert == 2 || modeConfirmation || (isMaJDevis && pieces.modifiedLine != null)"-->

                                                                        </td>


                                                                        <!--<td *ngIf ="detailPiecesTest">
                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="pieces.HTVetuste"
                                                                                name="piecThtVetuste[{{i}}]"
                                                                                 style="width: 100px"
                                                                                disabled />
                                                                        </td>
                                                                        <td *ngIf ="detailPiecesTest">
                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="pieces.TTCVetuste"
                                                                                name="TTCVetuste[{{i}}]"
                                                                                 style="width: 100px"
                                                                                 disabled />
                                                                        </td>-->
                                                                        <td *ngIf ="detailPiecesTest" >
                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="pieces.insuredParticipation"
                                                                                name="insuredParticipation"
                                                                                style="width: 100px"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?" />


                                                                        </td>

                                                                        <td *ngIf ="detailPiecesTest">
                                                                            <select class="btn-default btn-sm"
                                                                                [(ngModel)]="pieces.typePA"
                                                                                name="typePA" id="field_typePA"
                                                                                style="width: 100px"
                                                                                style="background-color: white"
                                                                                disabled>

                                                                                <option value="%">
                                                                                    %
                                                                                </option>
                                                                                <option value="TND">
                                                                                    TND
                                                                                </option>
                                                                            </select>
                                                                        </td>

                
                                                                        <td>

                                                                            <select class="btn-default btn-sm"
                                                                                [(ngModel)]="pieces.observationRepairer"
                                                                                name="observation[{{i}}]"
                                                                                id="field_observation"
                                                                                style="width: 100px"
                                                                                style="background-color: white"
                                                                                disabled
                                                                                >
                                                                                <option
                                                                                    value="PIECE_DISPONIBLE">
                                                                                    PIECE_DISPONIBLE
                                                                                </option>
                                                                                <option value="COMMANDE_FERME">
                                                                                    COMMANDE_FERME
                                                                                </option>
                                                                                <option
                                                                                    value="PIECE_NON_DISPONIBLE">
                                                                                    PIECE_NON_DISPONIBLE
                                                                                </option>
                                                                            </select>
                                                                        </td>

                                                                        <td>


                                                                            <!--<select class="btn-default btn-sm"
                                                                                name="piecReference[{{i}}]"
                                                                                [(ngModel)]="pieces.reference"
                                                                                (ngModelChange)="changeReference(pieces)"
                                                                                style="width: 100px"
                                                                                style="background-color: white"
                                                                                [disabled]="AvisExpert || modeConfirmation || (isMaJDevis && pieces.modifiedLine != null) "
                                                                                required>
                                                                                <option
                                                                                    [ngValue]="referenceOption.id"
                                                                                    *ngFor="let referenceOption of moPieces ;  trackBy: trackPieceById">
                                                                                    {{referenceOption.code}}
                                                                                </option>
                                                                            </select>-->

                                                                            
                                                                                <input list="piecesrechange"  name="piecReference[{{i}}]" [(ngModel)]='pieces.designationReference' (change)="selectPieceCode(pieces)" 
                                                                                placeholder="Choisissez une référence" class="input input-sm"
                                                                                disabled/>

                                                                                <datalist id="piecesrechange" >
                                                                                    <select disabled>
                                                                                        <option *ngFor="let referenceOption of moPieces; trackBy: trackPieceById" >{{referenceOption.code}}</option>
                                                                                    </select>
                                                                                </datalist>
                                                                                



                                                                        </td>
                                                                        <td>
                                                                            <!--<select class="btn-default btn-sm"
                                                                                name="piecDesignation[{{i}}]"
                                                                                [(ngModel)]="pieces.designationId"
                                                                                (ngModelChange)="changeDesignation(pieces)"
                                                                                style="width: 100px"
                                                                                style="background-color: white"
                                                                                [disabled]="AvisExpert || modeConfirmation"
                                                                                required>
                                                                                <option
                                                                                    [ngValue]="designationOption.id"
                                                                                    *ngFor="let designationOption of moPieces;  trackBy: trackPieceById">
                                                                                    {{designationOption.label}}
                                                                                </option>
                                                                            </select>-->
                                                                            <input list="piecesrechangedes"  name="piecDesignation[{{i}}]" [(ngModel)]='pieces.designation' (change)="selectPieceDesignation(pieces)" 
                                                                            placeholder="Choisissez une désignation" class="input input-sm"
                                                                            disabled required/>

                                                                                <datalist id="piecesrechangedes" >
                                                                                    <select disabled>
                                                                                        <option *ngFor="let designationOption of moPieces; trackBy: trackPieceById" >{{designationOption.label}}</option>
                                                                                    </select>
                                                                                </datalist>


                                                                        </td>


                                                                        <td>
                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="pieces.prixUnit"
                                                                                (ngModelChange)="changePieceRechange(pieces)"
                                                                                name="piecPrixUnit[{{i}}]"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />


                                                                        </td>
                                                                        <td>
                                                                            <select class="btn-default btn-sm"
                                                                                name="naturePiece[{{i}}]"
                                                                                [(ngModel)]="pieces.naturePiece"
                                                                                (ngModelChange)="changeNaturePieceRechange(pieces.naturePiece, pieces)"
                                                                                id="field_naturePiece"
                                                                                style="width: 100px"
                                                                                style="background-color: white"
                                                                                disabled
                                                                                >
                                                                                <option value="ORIGINE">
                                                                                    Origine
                                                                                </option>
                                                                                <option value="GENERIQUE">
                                                                                    Générique</option>
                                                                                <option value="CASSE">Casse
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <td>

                                                                            <input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="pieces.quantite"
                                                                                (ngModelChange)="changePieceRechange(pieces)"
                                                                                name="piecQuantite[{{i}}]"
                                                                                style="width: 100px"
                                                                                disabled
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                 />

                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                [value]="pieces.totalHt"
                                                                                name="piecTht[{{i}}]" readonly
                                                                                style="width: 100px"
                                                                                disabled />
                                                                        </td>-->
                                                                        <!--<td>
                                                                            <input type="text"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="pieces.discount"
                                                                                (ngModelChange)="changePieceRechange(pieces)" disabled
                                                                                name="discountPiece[{{i}}]"
                                                                                min="0"
                                                                                pattern="[0-9]+([.][0-9]+)?"
                                                                                style="width: 100px" />
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="pieces.amountDiscount"
                                                                                name="totalDiscountPiece[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="pieces.amountAfterDiscount"
                                                                                name="amountAfterDiscountPiece[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->
                                                                        <td>
                                                                            <select class="btn-default btn-sm"
                                                                                style="background-color: white"
                                                                                name="piecTva[{{i}}]"
                                                                                [(ngModel)]="pieces.tva"
                                                                                (ngModelChange)="changePieceRechange(pieces)"
                                                                                disabled
                                                                                >
                                                                                <option [ngValue]="vat.vatRate"
                                                                                    *ngFor="let vat of listVat;">
                                                                                    {{vat.vatRate}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <!--<td><input type="number"
                                                                                class="input input-sm"
                                                                                style="width: 100px"
                                                                                [(ngModel)]="pieces.amountVat"
                                                                                name="amountTvaPiec[{{i}}]"
                                                                                disabled
                                                                                >
                                                                        </td>-->

                                                                        <td><input type="number"
                                                                                class="input input-sm"
                                                                                [(ngModel)]="pieces.totalTtc"
                                                                                (ngModelChange)="changeByExpertOrVerify(pieces)"
                                                                                name="piecTtc[{{i}}]" readonly
                                                                                style="width: 100px"
                                                                                disabled />
                                                                        </td>
                                                                    



                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                        <td></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <div class="row justify-content-center"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row top-buffer"></div>
                                    <br />
                                    <div class="col-lg-2">

                                    </div>
                                    <div class="col-lg-8">
                                        <span class="anchor" id="formUserEdit"></span>
                                        <div class="card">
                                            <div class="card-header align-items-center notice-info">
                                                <strong>Total Réparation</strong>
                                            </div>

                                            <div class="card-body">
                                                <div class="row">

                                                    <div class="form-group col-sm-3">
                                                        <label
                                                            jhiTranslate="auxiliumApp.devis.droitTimbre">droit de timbre</label>

                                                        <input id="field_droitTimbreAV" type="number"
                                                            class="form-control input input-sm"
                                                            name="droitTimbreAV" [(ngModel)]="quotationAvisExpert.stampDuty"
                                                            readonly />
                                                    </div>
                                                    <div class="form-group col-sm-3">
                                                        <label
                                                            jhiTranslate="auxiliumApp.devis.totalTtc">Total TTC</label>
                                                        <input id="field_totalTtcAV" type="text"
                                                            class="form-control input input-sm" name="totalTtcAV"
                                                            [(ngModel)]="quotationAvisExpert.ttcAmount" readonly />
                                                    </div>
                                                </div>


                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                    </div>
                    <div class="row" *ngIf ="detailPiecesIngrTest || detailPiecesMOTest || detailPiecesTest || detailPiecesFournTest ">
                        <div class="col-lg-12">
                            <span class="anchor" id="formUserEdit"></span>
                            <div class="card">
                                <div class=" collapsible-card card-header align-items-center collapsed notice notice-info"
                                    data-toggle="collapse" href="#expertiseDetailspp">
                                    <strong>Avis Technique</strong>
                                </div>
                                <div id="expertiseDetailspp" class="card-body collapse">
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <label class="form-control-label" for="field_dateAccident">Date
                                                d'expertise
                                            </label>
                                            <div class="input-group">
                                                <input id="field_dateExpertise" class="form-control form-control-sm"
                                                    name="dateExpertise" [(ngModel)]="quotat.expertiseDate"
                                                    readonly />
                                                <span class="input-group-btn">
                                                </span>&nbsp;&nbsp;
                                            </div>

                                        </div>

                                        <div class="col-sm-3">
                                            <label class="form-control-label" for="field_reference">Valeur à neuf
                                            </label>
                                            <input type="number" class="form-control form-control-sm" name="valeurNeuf"
                                                id="field_reference" [(ngModel)]="quotat.priceNewVehicle"
                                                [required]="sinisterPec.modeId == 6 || sinisterPec.modeId == 10 || (sinisterPec.partnerId == 3 && sinisterPec.modeId == 5)" disabled/>
                                        </div>
                                        <div class="col-sm-3">
                                            <label for="field_mode">Valeur vénale</label>

                                            <input type="number" class="form-control form-control-sm"
                                                name="valeurVenale" id="field_mode" [(ngModel)]="quotat.marketValue"
                                                [required]="sinisterPec.modeId == 8 ||  sinisterPec.modeId == 9" disabled />
                                        </div>
                                        <div class="col-sm-3">
                                            <label for="field_numeroContrat">Kilométrage
                                            </label>
                                            <input type="number" class="form-control form-control-sm" name="klm"
                                                id="field_numeroContrat" [(ngModel)]="quotat.kilometer" disabled />
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="fieldestimateJour">Délai estimatif des réparations en jours
                                            </label>
                                            <input type="number" class="form-control form-control-sm"
                                                name="estimateJour" id="field_estimateJour" disabled
                                                [(ngModel)]="quotat.estimateJour" min="0" pattern="\d+" />
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="field_en_heure_mo">En heure MO
                                            </label>
                                            <input type="number" class="form-control form-control-sm" name="EnHeureMO"
                                                id="field_EnHeureMO" [(ngModel)]="quotat.heureMO"  disabled/>
                                        </div>

                                        <div class="col-sm-3">
                                            <label for="field_totalMo">Total MO en TND
                                            </label>
                                            <input type="number" class="form-control form-control-sm" name="totalMo"
                                                id="field_totalMo" [(ngModel)]="quotat.totalMo" disabled />
                                        </div>
                                        </br>
                                        </br>
                                        </br>
                                        </br>
                                        <div class="form-group col-sm-10" style="float: left;">
                                            <fieldset>
                                                Etat véhicule :<span style="color: #FA2F03">*</span> &nbsp; &nbsp;
                                                <input type="radio" name="conditionVehicle" value="Bon"
                                                    [(ngModel)]="quotat.conditionVehicle" disabled>Bon &nbsp;&nbsp;
                                                <input type="radio" name="conditionVehicle" value="Moyen"
                                                    [(ngModel)]="quotat.conditionVehicle" disabled>Moyen &nbsp;&nbsp;

                                                <input type="radio" name="conditionVehicle" value="Mauvais"
                                                    [(ngModel)]="quotat.conditionVehicle" disabled>Mauvais
                                            </fieldset>
                                        </div>

                                        <div class="form-group col-sm-10" style="float: left;">

                                            <fieldset>
                                                Véhicule réparable
                                                <span style="color: #FA2F03">*</span> &nbsp;&nbsp;
                                                <input readonly type="radio" name="isVehiculeReparable"
                                                    [(ngModel)]="quotat.repairableVehicle" [value]="true" disabled />Oui
                                                &nbsp;&nbsp;
                                                <input readonly type="radio" name="isVehiculeReparable"
                                                    [(ngModel)]="quotat.repairableVehicle" [value]="false" disabled />Non
                                            </fieldset>
                                        </div>

                                        <div class="form-group col-sm-10" style="float: left;">
                                            <fieldset>
                                                Constat préliminaire <span style="color: #FA2F03">*</span>
                                                &nbsp;&nbsp;
                                                <input readonly type="radio" name="isConstatPre"
                                                    [(ngModel)]="quotat.preliminaryReport" [value]="true" disabled />Oui
                                                &nbsp;&nbsp;
                                                <input readonly type="radio" name="isConstatPre"
                                                    [(ngModel)]="quotat.preliminaryReport" [value]="false" disabled />Non

                                            </fieldset>
                                        </div>

                                        <div class="form-group col-sm-10" style="float: left;">
                                            <fieldset>
                                                Véhicule immobilisé:
                                                &nbsp;&nbsp;
                                                <input readonly type="radio" name="immobilizedVehicle"
                                                    [(ngModel)]="quotat.immobilizedVehicle" [value]="true" disabled />Oui
                                                &nbsp;&nbsp;
                                                <input readonly type="radio" name="immobilizedVehicle"
                                                    [(ngModel)]="quotat.immobilizedVehicle" [value]="false" disabled />Non
                                            </fieldset>
                                        </div>


                                        <div class="form-group col-sm-10" style="float: left;">
                                            <fieldset>
                                                La concordance des circonstances de l'accidents avec les dégâts déclarés

                                                <span style="color: #FA2F03">*</span> &nbsp;&nbsp;
                                                <input readonly id="field_modeleLibelle" type="radio"
                                                    name="concordanceReport" [(ngModel)]="quotat.concordanceReport"
                                                    [value]="true" disabled />Oui
                                                &nbsp;&nbsp;
                                                <input readonly id="field_modeleLibelle" type="radio"
                                                    name="concordanceReport" [(ngModel)]="quotat.concordanceReport"
                                                    [value]="false" disabled />Non
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>
                <div class="tab-pane fade in active" id="apecNew" name="apec" role="tabpanel">
                        
                    <div class="row" style="margin-top: 15px;">
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="col-lg-12">
                                    <div class="card">
                                
                                       
                                        <div class="card-body">
                                                <select class="form-control form-control-sm" id="field" name="garanties"
                                                [(ngModel)]="testt"   (ngModelChange)="onAccordSelect(testt)">
                                                <option [ngValue]="list.id"
                                                    *ngFor="let list of listAccord;">
                                                    {{list.typeAccord}}</option>
                                            </select>
                                        </br>
                                    </br>
                                </br>
    
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationGa">Participation GA</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_ga" id="field_ga"
                                                                [(ngModel)]="apecTotale1.participationGa" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.droitDeTimbre">Droit de timbre</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_Timbre" id="field_Timbre"
                                                                [(ngModel)]="apecTotale1.droitDeTimbre" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationAssure">Participation assuré</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_assure" id="field_assure"
                                                                [(ngModel)]="apecTotale1.participationAssure" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationVetuste">Participation vétusté</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_vetuste" id="field_vetuste"
                                                                [(ngModel)]="apecTotale1.participationVetuste" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationTva">Participation TVA</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_TVA" id="field_TVA"
                                                                [(ngModel)]="apecTotale1.participationTva" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationRpc">Participation responsabilité</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_responsability" id="field_responsability"
                                                                [(ngModel)]="apecTotale1.participationRpc" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.fraisDossier">Frais de dossier</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_frais" id="field_frais"
                                                                [(ngModel)]="apecTotale1.fraisDossier" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.avanceFacture">Avance sur facture</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_avance" id="field_avance"
                                                                [(ngModel)]="apecTotale1.avanceFacture" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.depacementPlafond">Déplacement plafond</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_plafond" id="field_plafond"
                                                                [(ngModel)]="apecTotale1.depacementPlafond" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.estimationFranchise">Franchise</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_franchise" id="field_franchise"
                                                                [(ngModel)]="apecTotale1.estimationFranchise" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.regleProportionnel">Règle Proportionelle</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_regle_proportionelle" id="field_regle_proportionelle"
                                                                [(ngModel)]="apecTotale1.regleProportionnel" disabled  />
                                                </div>
                                            </div>
                                               
                                        </div>
                                    </div>
                                </div>
                                </div>
                            </div>
                    </div>
                </div>
                <div *ngIf="isApecValid" class="tab-pane fade in active" id="apec" name="apec" role="tabpanel">
                        
                    <div class="row" style="margin-top: 15px;">
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="col-lg-12">
                                    <div class="card">
                                
                                        <div class="card-header d-flex align-items-center no-padding">
                                            <div class="notice notice-info">
                                                <strong>Bon de sortie</strong>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationGa">Participation GA</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_ga" id="field_ga"
                                                                [(ngModel)]="apecTotale.participationGa" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.droitDeTimbre">Droit de timbre</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_Timbre" id="field_Timbre"
                                                                [(ngModel)]="apecTotale.droitDeTimbre" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationAssure">Participation assuré</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_assure" id="field_assure"
                                                                [(ngModel)]="apecTotale.participationAssure" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationVetuste">Participation vétusté</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_vetuste" id="field_vetuste"
                                                                [(ngModel)]="apecTotale.participationVetuste" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationTva">Participation TVA</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_TVA" id="field_TVA"
                                                                [(ngModel)]="apecTotale.participationTva" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationRpc">Participation responsabilité</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_responsability" id="field_responsability"
                                                                [(ngModel)]="apecTotale.participationRpc" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.fraisDossier">Frais de dossier</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_frais" id="field_frais"
                                                                [(ngModel)]="apecTotale.fraisDossier" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.avanceFacture">Avance sur facture</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_avance" id="field_avance"
                                                                [(ngModel)]="apecTotale.avanceFacture" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.depacementPlafond">Déplacement plafond</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_plafond" id="field_plafond"
                                                                [(ngModel)]="apecTotale.depacementPlafond" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.estimationFranchise">Franchise</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_franchise" id="field_franchise"
                                                                [(ngModel)]="apecTotale.estimationFranchise" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.regleProportionnel">Règle Proportionelle</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_regle_proportionelle" id="field_regle_proportionelle"
                                                                [(ngModel)]="apecTotale.regleProportionnel" disabled  />
                                                </div>
                                            </div>
                                               
                                        </div>
                                    </div>
                                </div>
                                </div>
                            </div>
                    </div>
            
                </div>
                <div *ngIf="isApecValid1" class="tab-pane fade in active" id="apec1" name="apec1" role="tabpanel">
                        
                    <div class="row" style="margin-top: 15px;">
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="col-lg-12">
                                    <div class="card">
                                
                                        <div class="card-header d-flex align-items-center no-padding">
                                            <div class="notice notice-info">
                                                <strong>Détails accord</strong>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationGa">Participation GA</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_ga" id="field_ga"
                                                                [(ngModel)]="apecTotale1.participationGa" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.droitDeTimbre">Droit de timbre</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_Timbre" id="field_Timbre"
                                                                [(ngModel)]="apecTotale1.droitDeTimbre" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationAssure">Participation assuré</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_assure" id="field_assure"
                                                                [(ngModel)]="apecTotale1.participationAssure" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationVetuste">Participation vétusté</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_vetuste" id="field_vetuste"
                                                                [(ngModel)]="apecTotale1.participationVetuste" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationTva">Participation TVA</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_TVA" id="field_TVA"
                                                                [(ngModel)]="apecTotale1.participationTva" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.participationRpc">Participation responsabilité</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_responsability" id="field_responsability"
                                                                [(ngModel)]="apecTotale1.participationRpc" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.fraisDossier">Frais de dossier</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_frais" id="field_frais"
                                                                [(ngModel)]="apecTotale1.fraisDossier" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.avanceFacture">Avance sur facture</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_avance" id="field_avance"
                                                                [(ngModel)]="apecTotale1.avanceFacture" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.depacementPlafond">Déplacement plafond</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_plafond" id="field_plafond"
                                                                [(ngModel)]="apecTotale1.depacementPlafond" disabled  />
                                                </div>
                                                <div class="col-sm-2"></div>
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.estimationFranchise">Franchise</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_franchise" id="field_franchise"
                                                                [(ngModel)]="apecTotale1.estimationFranchise" disabled  />
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                
                                                <div class="col-sm-2">
                                                    <label jhiTranslate="auxiliumApp.apec.regleProportionnel">Règle Proportionelle</label>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" class="form-control form-control-sm" name="field_regle_proportionelle" id="field_regle_proportionelle"
                                                                [(ngModel)]="apecTotale1.regleProportionnel" disabled  />
                                                </div>
                                            </div>
                                               
                                        </div>
                                    </div>
                                </div>
                                </div>
                            </div>
                    </div>
            
                </div>
                </div>
               
                <div *ngIf="sinisterPec.stepId == 37 || sinisterPec.stepId == 35 ||sinisterPec.stepId == 36 ||sinisterPec.stepId == 40" class="tab-pane fade in active" id="facture" name="facture" role="tabpanel">
                        
                    <div class="row">
                        <div class="col-lg-12">
        
                            <div class="card">
                                <span class="anchor" id="formUserEdit"></span>
        
                                <div class=" collapsible-card card-header align-items-center collapsed notice notice-info"
                                    data-toggle="collapse" href="#collapsedevis">
                                    <strong>Devis</strong>
                                </div>
                                <div id="collapsedevis" class="card-body collapse" [ngbCollapse]="isCollapsed">
                                    <div class="card-body">
                                        <div class="row">
                                            <!-- MO details list -->
                                            <div class="col-lg-12">
                                                <div class="card">
                                                    <div class=" collapsible-card card-header align-items-center collapsed"
                                                        data-toggle="collapse" href="#collapseDetailsMo">
                                                        <h4 jhiTranslate="auxiliumApp.detailsMo.home.title">Details
                                                            mo
                                                        </h4>
                                                    </div>
                                                    <div id="collapseDetailsMo" class="card-body collapse">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <label *ngIf="!moPieces || moPieces.length == 0"
                                                                    style="color: white">Vous
                                                                    devez paramètrer des types de pièce !</label>
                                                                
                                                            </div>
                                                            <div class="col-sm-12">
                                                                <div class="table-responsive"
                                                                    *ngIf="detailsPiecesMO && detailsPiecesMO.length > 0">
                                                                    <table class="table table-striped">
                                                                        <thead>
                                                                            <tr>
                                                                                <th *ngIf="AvisExpert == true">
                                                                                    <span>Observation Expert</span>
                                                                                </th>
                                                                                <th *ngIf="AvisExpert == true">
                                                                                    <span> Nombre MO estimé
                                                                                    </span>
                                                                                </th>
        
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.designation">Designation</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.typeIntervention">Type
                                                                                        Intervention
                                                                                    </span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.th">th</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.nombreHeures">Nombre
                                                                                        Heures
                                                                                    </span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalHt">totalHt</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.remise">remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalRemise">total
                                                                                        remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalApresRemise">total
                                                                                        aprés remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.tva">tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalTva">total
                                                                                        tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalTtc">totalttc</span>
                                                                                </th>
                                                                                <th></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr
                                                                                *ngFor="let detailsPieceMo of detailsPiecesMO; let i=index">
                                                                                <td *ngIf="AvisExpert == true">
        
                                                                                    <select
                                                                                    style=" width: 200px;"
                                                                                        class="form-control form-control-sm"
                                                                                        name="moObservation[{{i}}]"
                                                                                        [(ngModel)]="detailsPieceMo.observationExpert" disabled
                                                                                        readonly required>
                                                                                        <option
                                                                                            [ngValue]="expertObservation.id"
                                                                                            *ngFor="let expertObservation of expertObservations">
                                                                                            {{expertObservation.label}}
                                                                                        </option>
                                                                                    </select>
        
                                                                                <td *ngIf="AvisExpert == true">
                                                                                    <input type="text"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.nombreMOEstime" disabled
                                                                                        readonly
                                                                                        name="nombreMOEstime[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation"
                                                                                        required />
                                                                                </td>
        
        
        
                                                                                </td>
                                                                                <td
                                                                                style=" width: 200px;"
                                                                                    *ngIf="reparateurEtat == true || isGestionnaireTechnique == true">
                                                                                    <input type="text"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="detailsPieceMo.observation" disabled
                                                                                        readonly
                                                                                        name="moObservation[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation" />
                                                                                </td>
        
                                                                                <td>
                                                                                    <input class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="moDesignation[{{i}}]"
                                                                                        [(ngModel)]="detailsPieceMo.designation"
                                                                                        disabled>
                                                                                </td>
                                                                                <td>
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        [(ngModel)]="detailsPieceMo.typeInterventionId" disabled
                                                                                        readonly
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation"
                                                                                        name="interventionMo[{{i}}]">
                                                                                        <option
                                                                                            [ngValue]="reftypeinterventionOption.id"
                                                                                            *ngFor="let reftypeinterventionOption of refOperationTypesMo">
                                                                                            {{reftypeinterventionOption.libelle}}
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.prixUnit" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                        name="pu[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1" />
                                                                                </td>
                                                                                <td><input type="text"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.nombreHeures" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                        name="nombreHeures[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation" />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.totalHt" disabled
                                                                                        readonly name="moTht[{{i}}]"
                                                                                        readonly />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.discount" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                        name="discount[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation" />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.amountDiscount" disabled
                                                                                        readonly
                                                                                        name="totalDiscount[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation"
                                                                                        readonly>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.amountAfterDiscount" disabled
                                                                                        readonly
                                                                                        name="amountAfterDiscountMo[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation"
                                                                                        readonly>
                                                                                </td>
                                                                                <td>
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="vatMo[{{i}}]"
                                                                                        [(ngModel)]="detailsPieceMo.tva" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeMo(detailsPieceMo)"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation">
                                                                                        <option [ngValue]="vat.vatRate"
                                                                                            *ngFor="let vat of listVat;">
                                                                                            {{vat.vatRate}}
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.amountVat" disabled
                                                                                        readonly
                                                                                        name="amountTvaMo[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation"
                                                                                        readonly />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="detailsPieceMo.totalTtc"disabled
                                                                                        readonly name="moTtc[{{i}}]"
                                                                                        [disabled]="detailsPieceMo.observationExpert == 1 || modeConfirmation"
                                                                                        readonly />
                                                                                </td>
                                                                                <td>
                                                                                    <div></div>
                                                                                   
                                                                                    
                                                                                </td>
                                                                                <td
                                                                                    *ngIf="detailsPieceMo.observationExpert !== 1 && modeConfirmation">
        
                                                                                    <div
                                                                                        class="btn-group flex-btn-group-container">
                                                                                        <a
                                                                                            class="btn btn-sm btn-default"><span
                                                                                                class="fa fa-check-square"
                                                                                                style="color:chartreuse "></span></a>
                                                                                    </div>
                                                                                </td>
                                                                                <td *ngIf="detailsPieceMo.modified">
                                                                                    <div
                                                                                        class="btn-group flex-btn-group-container">
                                                                                        <a
                                                                                            class="btn btn-sm btn-default"><span
                                                                                                class="fa fa-history"
                                                                                                style="color:currentColor "></span></a>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <!-- <td>{{ getSum4() }}</td>-->
                                                                                <td></td>
                                                                                <td></td>
                                                                                <!--<td>{{ getSum7() }}</td>-->
                                                                                <td></td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <div class="row justify-content-center"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- home peinture list -->
                                            <div class="col-lg-12">
                                                <div class="card">
                                                    <div class=" collapsible-card card-header align-items-center collapsed"
                                                        data-toggle="collapse" href="#collapseHomePaint">
                                                        <h4 jhiTranslate="auxiliumApp.detailsPieces.homePeinture">
                                                            Home
                                                            Peinture
                                                        </h4>
                                                    </div>
                                                    <div id="collapseHomePaint" class="card-body collapse">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <label
                                                                    *ngIf="!ingredientPieces || ingredientPieces.length == 0"
                                                                    style="color: white">Vous
                                                                    devez paramètrer des types de pièce !</label>
        
                                                            </div>
                                                            <div class="col-sm-12">
                                                                <div class="table-responsive"
                                                                    *ngIf="detailsPiecesIngredient && detailsPiecesIngredient.length > 0">
                                                                    <table class="table table-striped">
                                                                        <thead>
                                                                            <tr>
                                                                                <th *ngIf="AvisExpert ">
                                                                                    <span>Observation Expert</span>
                                                                                </th>
        
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.designation">Designation</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.typeIntervention">Type
                                                                                        Intervention
                                                                                    </span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.th">th</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.nombreHeures">Nombre
                                                                                        Heures
                                                                                    </span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalHt">totalHt</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.remise">remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalRemise">total
                                                                                        remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalApresRemise">total
                                                                                        aprés remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.tva">tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalTva">total
                                                                                        tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalTtc">totalttc</span>
                                                                                </th>
                                                                                <th></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr
                                                                                *ngFor="let dpIngredient of detailsPiecesIngredient ; let i=index">
                                                                                <td *ngIf="AvisExpert == true">
                                                                                    <select
                                                                                    style=" width: 200px;"
                                                                                        class="form-control form-control-sm"
                                                                                        name="dpObservation[{{i}}]"
                                                                                        [(ngModel)]="dpIngredient.observationExpert" disabled
                                                                                        readonly required>
                                                                                        <option
                                                                                            [ngValue]="expertObservation.id"
                                                                                            *ngFor="let expertObservation of expertObservations">
                                                                                            {{expertObservation.label}}
                                                                                        </option>
                                                                                    </select>
        
        
        
                                                                                </td>
                                                                                <td
                                                                                    *ngIf="reparateurEtat == true || isGestionnaire == true || isResponsable == true">
                                                                                    <input type="text"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="dpIngredient.observation" disabled
                                                                                        readonly
                                                                                        name="dpIngredientObservation[{{i}}]"
                                                                                        readonly />
                                                                                </td>
                                                                                <td>
                                                                                    <input class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="ingrDesignation[{{i}}]"
                                                                                        [(ngModel)]="dpIngredient.designation"
                                                                                        disabled style="width: 100px">
        
                                                                                </td>
                                                                                <td>
        
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        [(ngModel)]="dpIngredient.typeInterventionId" disabled
                                                                                        readonly
                                                                                        [disabled]="dpIngredient.observationExpert == 1 || modeConfirmation"
                                                                                        name="interventionIng[{{i}}]">
                                                                                        <option
                                                                                            [ngValue]="reftypeinterventionOption.id"
                                                                                            *ngFor="let reftypeinterventionOption of refOperationTypesPeinture">
                                                                                            {{reftypeinterventionOption.libelle}}
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                                                                <td>
        
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="dpIngredient.prixUnit" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeIngredient(dpIngredient)"
                                                                                        name="pu[{{i}}]"
                                                                                        [disabled]="dpIngredient.observationExpert == 1 " />
                                                                                </td>
                                                                                <td>
        
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="dpIngredient.quantite"disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeIngredient(dpIngredient)"
                                                                                        name="quantite[{{i}}]"
                                                                                        style="width: 100px"
                                                                                        [disabled]="dpIngredient.observationExpert == 1" />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        [value]="dpIngredient.totalHt"
                                                                                        name="ingrTht[{{i}}]" readonly
                                                                                        style="width: 100px"
                                                                                        [disabled]="dpIngredient.observationExpert == 1 " />
                                                                                </td>
                                                                                <td><input type="text"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="dpIngredient.discount" disabled
                                                                                        readonly
                                                                                        [disabled]="modeConfirmation"
                                                                                        (ngModelChange)="changeIngredient(dpIngredient)"
                                                                                        name="discountIng[{{i}}]"
                                                                                        style="width: 100px"
                                                                                        [disabled]="dpIngredient.observationExpert == 1" />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="dpIngredient.amountDiscount" disabled
                                                                                        readonly
                                                                                        name="totalDiscountIng[{{i}}]"
                                                                                        readonly>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="dpIngredient.amountAfterDiscount" disabled
                                                                                        readonly
                                                                                        name="amountAfterDiscountIng[{{i}}]"
                                                                                        readonly>
                                                                                </td>
                                                                                <td>
        
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="vatIng[{{i}}]"
                                                                                        [(ngModel)]="dpIngredient.tva" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeIngredient(dpIngredient)"
                                                                                        [disabled]="dpIngredient.observationExpert == 1 || modeConfirmation">
                                                                                        <option [ngValue]="vat.vatRate"
                                                                                            *ngFor="let vat of listVat;">
                                                                                            {{vat.vatRate}}
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="dpIngredient.amountVat" disabled
                                                                                        readonly
                                                                                        name="amountTvaIng[{{i}}]"
                                                                                        [disabled]="modeConfirmation"
                                                                                        readonly>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="dpIngredient.totalTtc"  disabled
                                                                                        readonly
                                                                                        [disabled]="modeConfirmation"
                                                                                        name="ingrTtc[{{i}}]" readonly
                                                                                        style="width: 100px" />
                                                                                </td>
                                                                                <td>
                                                                                    <div
                                                                                     >
                                                                                    </div>
                                                                                </td>
                                                                                <td
                                                                                    *ngIf="dpIngredient.observationExpert !== 1 && modeConfirmation">
        
                                                                                    <div
                                                                                        class="btn-group flex-btn-group-container">
                                                                                        <a
                                                                                            class="btn btn-sm btn-default"><span
                                                                                                class="fa fa-check-square"
                                                                                                style="color:chartreuse "></span></a>
                                                                                    </div>
                                                                                </td>
                                                                                <td *ngIf="detailsPieceMo.modified">
                                                                                    <div
                                                                                        class="btn-group flex-btn-group-container">
                                                                                        <a
                                                                                            class="btn btn-sm btn-default"><span
                                                                                                class="fa fa-history"
                                                                                                style="color:currentColor "></span></a>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <div class="row justify-content-center"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </br>
                                                        <!-- Fourniture-->
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <label
                                                                    *ngIf="!fourniturePieces || fourniturePieces.length == 0"
                                                                    style="color: white">Vous
                                                                    devez paramètrer des types de pièce !</label>
                                                               
                                                            </div>
                                                            <div class="col-sm-12">
                                                                <div class="table-responsive"
                                                                    *ngIf="detailsPiecesFourniture && detailsPiecesFourniture.length > 0">
                                                                    <table class="table table-striped">
                                                                        <thead>
                                                                            <tr>
                                                                                <th *ngIf="AvisExpert == true">
                                                                                    <span>Observation Expert</span>
                                                                                </th>
                                                                                <th
                                                                                    *ngIf="reparateurEtat == true || isGestionnaire == true || isResponsable == true">
                                                                                    <span>Observation</span></th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.designation">Designation</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.typeIntervention">Type
                                                                                        Intervention
                                                                                    </span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.th">th</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.nombreHeures">Nombre
                                                                                        Heures
                                                                                    </span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalHt">totalHt</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.remise">remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalRemise">total
                                                                                        remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalApresRemise">total
                                                                                        aprés remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.tva">tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalTva">total
                                                                                        tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalTtc">totalttc</span>
                                                                                </th>
                                                                                <th></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr
                                                                                *ngFor="let fourniture of detailsPiecesFourniture ; let i=index">
                                                                                <td *ngIf="AvisExpert == true">
        
                                                                                    <select
                                                                                    style=" width: 200px;"
                                                                                        class="form-control form-control-sm"
                                                                                        name="fournObservation[{{i}}]"
                                                                                        [(ngModel)]="fourniture.observationExpert" disabled 
                                                                                        readonly required>
                                                                                        <option
                                                                                            [ngValue]="expertObservation.id"
                                                                                            *ngFor="let expertObservation of expertObservations">
                                                                                            {{expertObservation.label}}
                                                                                        </option>
                                                                                    </select>
        
        
        
                                                                                </td>
                                                                                <td
                                                                                    *ngIf="reparateur == true || isGestionnaireTechnique == true">
                                                                                    <input type="text"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="fourniture.observation" disabled
                                                                                        readonly
                                                                                        [disabled]="fourniture.observationExpert == 1 || modeConfirmation"
                                                                                        name="fournObservation[{{i}}]"
                                                                                        readonly />
                                                                                </td>
                                                                                <td>
                                                                                    <input class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="fournDesignation[{{i}}]"
                                                                                        [(ngModel)]="fourniture.designation"
                                                                                        disabled style="width: 100px">
        
                                                                                </td>
                                                                                <td>
        
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        [(ngModel)]="fourniture.typeInterventionId" disabled
                                                                                        readonly
                                                                                        [disabled]="modeConfirmation"
                                                                                        [disabled]="fourniture.observationExpert == 1 || modeConfirmation"
                                                                                        name="interventionFourn[{{i}}]">
                                                                                        <option
                                                                                            [ngValue]="reftypeinterventionOption.id"
                                                                                            *ngFor="let reftypeinterventionOption of refOperationTypesFourniture">
                                                                                            {{reftypeinterventionOption.libelle}}
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                                                                <td>
        
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px" 
                                                                                        [(ngModel)]="fourniture.prixUnit"  disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeFourniture(fourniture)"
                                                                                        name="puFour[{{i}}]"
                                                                                        [disabled]="fourniture.observationExpert == 1" />
        
                                                                                </td>
                                                                                <td>
        
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="fourniture.quantite" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeFourniture(fourniture)"
                                                                                        name="quantiteFourn[{{i}}]"
                                                                                        style="width: 100px"
                                                                                        [disabled]="fourniture.observationExpert == 1" />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        [value]="fourniture.totalHt"
                                                                                        name="fournTht[{{i}}]" readonly
                                                                                        style="width: 100px" />
                                                                                </td>
        
                                                                                <td>
                                                                                    <input type="text"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="fourniture.discount" disabled
                                                                                        readonly
                                                                                        [disabled]="modeConfirmation"
                                                                                        (ngModelChange)="changeFourniture(fourniture)"
                                                                                        name="discountFourn[{{i}}]"
                                                                                        style="width: 100px"
                                                                                        [disabled]="fourniture.observationExpert == 1" />
                                                                                </td>
        
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="fourniture.amountDiscount" disabled
                                                                                        readonly
                                                                                        name="totalDiscountFourn[{{i}}]"
                                                                                        readonly>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="fourniture.amountAfterDiscount" disabled
                                                                                        readonly
                                                                                        name="amountAfterDiscountFourn[{{i}}]"
                                                                                        readonly>
                                                                                </td>
                                                                                <td>
        
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="vatFourn[{{i}}]"
                                                                                        [(ngModel)]="fourniture.tva" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changeFourniture(fourniture)"
                                                                                        [disabled]="fourniture.observationExpert == 1">
                                                                                        <option [ngValue]="vat.vatRate"
                                                                                            *ngFor="let vat of listVat;">
                                                                                            {{vat.vatRate}}
                                                                                        </option>
                                                                                    </select>
        
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="fourniture.amountVat" disabled
                                                                                        readonly
                                                                                        name="amountTvaFourn[{{i}}]"
                                                                                        [disabled]="modeConfirmation"
                                                                                        readonly>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="fourniture.totalTtc" disabled
                                                                                        readonly name="fournTtc[{{i}}]"
                                                                                        readonly style="width: 100px"
                                                                                        [disabled]="fourniture.observationExpert == 1" />
                                                                                </td>
                                                                                <td>
                                                                                    <div
                                                                                    >
                                                                                    </div>
                                                                                </td>
                                                                                <td
                                                                                    *ngIf="fourniture.observationExpert !== 1 && modeConfirmation">
                                                                                    <div
                                                                                        class="btn-group flex-btn-group-container">
                                                                                        <a
                                                                                            class="btn btn-sm btn-default"><span
                                                                                                class="fa fa-check-square"
                                                                                                style="color:chartreuse "></span></a>
                                                                                    </div>
                                                                                </td>
                                                                                <td *ngIf="detailsPieceMo.modified ">
                                                                                    <div
                                                                                        class="btn-group flex-btn-group-container">
                                                                                        <a
                                                                                            class="btn btn-sm btn-default"><span
                                                                                                class="fa fa-history"
                                                                                                style="color:currentColor "></span></a>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <div class="row justify-content-center"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- End Fourniture-->
                                                    </div>
                                                </div>
                                            </div>
        
                                            <!-- pieces de rechange -->
                                            <div class="col-lg-12">
                                                <div class="card">
                                                    <div class=" collapsible-card card-header align-items-center collapsed"
                                                        data-toggle="collapse" href="#collapseHomePieces">
                                                        <h4 jhiTranslate="auxiliumApp.detailsPieces.homeRechange">
                                                            Home
                                                            pieces
                                                        </h4>
                                                    </div>
        
                                                    <div id="collapseHomePieces" class="card-body collapse">
                                                        <div class="row">
        
                                                            <div class="col-sm-12">
                                                                <div class="table-responsive"
                                                                    *ngIf="detailsPieces && detailsPieces.length > 0">
                                                                    <table class="table table-striped">
                                                                        <thead>
                                                                            <tr>
                                                                                <th *ngIf="AvisExpert == true">
                                                                                    <span>Observation Expert</span>
                                                                                </th>
                                                                                <th *ngIf="AvisExpert == true">
                                                                                    <span>Vétusté</span>
                                                                                </th>
                                                                                <th *ngIf="AvisExpert == true">
                                                                                    <span>% de participation
                                                                                        d’assuré </span>
                                                                                </th>
                                                                                <!--<th *ngIf="AvisExpert == true">
                                                                                    <span>Vétusté HT </span>
                                                                                </th>
                                                                                <th *ngIf="AvisExpert == true">
                                                                                    <span> Vétusté TTC</span>
                                                                                </th>-->
                                                                                <th><span>Observation</span></th>
                                                                                <th><span>Référence</span></th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsPieces.designation">Designation</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsPieces.prixUnit">Prix
                                                                                        Unit
                                                                                    </span></th>
                                                                                <th><span>Nature Pièce</span></th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsPieces.quantite">Quantite</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalHt">totalHt</span>
                                                                                </th>
        
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.remise">remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalRemise">total
                                                                                        remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalApresRemise">total
                                                                                        aprés remise</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.tva">tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.grille.totalTva">total
                                                                                        tva</span>
                                                                                </th>
                                                                                <th><span
                                                                                        jhiTranslate="auxiliumApp.detailsMo.totalTtc">totalttc</span>
                                                                                </th>
                                                                                <th></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr
                                                                                *ngFor="let pieces of detailsPieces ; let i=index">
                                                                                <td *ngIf="AvisExpert == true">
                                                                                    <select
                                                                                    style=" width: 200px;"
                                                                                        class="form-control form-control-sm"
                                                                                        name="piecesObservation[{{i}}]"
                                                                                        [(ngModel)]="pieces.observationExpert" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="observationExpert()" disabled
                                                                                        required>
                                                                                        <option
                                                                                            [ngValue]="expertObservation.id"
                                                                                            *ngFor="let expertObservation of expertObservations">
                                                                                            {{expertObservation.label}}
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
        
                                                                                <td *ngIf="AvisExpert == true">
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="pieces.vetuste"
                                                                                        readonly name="vetuste"
                                                                                        style="width: 100px"
                                                                                        (ngModelChange)="calculateVetuste(pieces)"
                                                                                        required
                                                                                        [disabled]="pieces.observationExpert == 1" />
                                                                                </td>
                                                                                <td *ngIf="AvisExpert == true">
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="pieces.insuredParticipation" disabled
                                                                                        readonly
                                                                                        name="insuredParticipation"
                                                                                        style="width: 100px"
                                                                                        [disabled]="pieces.observationExpert == 1" />
                                                                                </td>
        
                                                                                <!--<td *ngIf="AvisExpert == true">
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        [value]="pieces.HTVetuste"
                                                                                        name="piecThtVetuste[{{i}}]" disabled
                                                                                        readonly style="width: 100px"
                                                                                        [disabled]="pieces.observationExpert == 1" />
                                                                                </td>
                                                                                <td *ngIf="AvisExpert == true">
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        [value]="pieces.TTCVetuste"
                                                                                        name="TTCVetuste[{{i}}]"
                                                                                        readonly style="width: 100px"
                                                                                        [disabled]="pieces.observationExpert == 1" />
                                                                                </td>-->
        
                                                                                <td
                                                                                    *ngIf="reparateurEtat == true || isGestionnaire == true || isResponsable == true">
                                                                                    <input type="text"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="pieces.observation" disabled
                                                                                        readonly
                                                                                        name="piecesObservation[{{i}}]"
                                                                                        [disabled]="pieces.observationExpert == 1" />
                                                                                </td>
        
        
                                                                                <td>
        
                                                                                    <select class="btn-default btn-sm"
                                                                                        [(ngModel)]="pieces.observationRepairer"
                                                                                        name="observation[{{i}}]"
                                                                                        id="field_observation"
                                                                                        style="width: 100px"
                                                                                        style="background-color: white"
                                                                                        disabled
                                                                                        readonly
                                                                                       required>
                                                                                        <option
                                                                                            value="PIECE_DISPONIBLE">
                                                                                            PIECE_DISPONIBLE
                                                                                        </option>
                                                                                        <option value="COMMANDE_FERME">
                                                                                            COMMANDE_FERME
                                                                                        </option>
                                                                                        <option
                                                                                            value="PIECE_NON_DISPONIBLE">
                                                                                            PIECE_NON_DISPONIBLE
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                         
                                                                                <td>
        
                                                                                    <input class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="piecReference[{{i}}]"
                                                                                        [(ngModel)]="pieces.designationReference"
                                                                                        disabled style="width: 100px">
                                                                                </td>
                                                                                <td>
                                                                                    <input class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="piecDesignation[{{i}}]"
                                                                                        [(ngModel)]="pieces.designation"
                                                                                        disabled style="width: 100px">
        
                                                                                </td>
        
        
                                                                                <td>
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="pieces.prixUnit" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changePieceRechange(pieces)" disabled
                                                                                        name="piecPrixUnit[{{i}}]"
                                                                                        [disabled]="pieces.observationExpert == 1" />
        
        
                                                                                </td>
                                                                                <td>
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="naturePiece[{{i}}]"
                                                                                        [(ngModel)]="pieces.naturePiece"disabled
                                                                                        readonly id="field_naturePiece"
                                                                                        style="width: 100px"
                                                                                        [disabled]="pieces.observationExpert == 1">
                                                                                        <option value="ORIGINE">
                                                                                            Origine
                                                                                        </option>
                                                                                        <option value="GENERIQUE">
                                                                                            Générique</option>
                                                                                        <option value="CASSE">Casse
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                                                                <td>
        
                                                                                    <input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="pieces.quantite"
                                                                                        readonly
                                                                                        (ngModelChange)="changePieceRechange(pieces)" disabled
                                                                                        name="piecQuantite[{{i}}]"
                                                                                        style="width: 100px"
                                                                                        [disabled]="pieces.observationExpert == 1" />
        
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        [value]="pieces.totalHt"
                                                                                        name="piecTht[{{i}}]" readonly
                                                                                        style="width: 100px"
                                                                                        [disabled]="pieces.observationExpert == 1" />
                                                                                </td>
                                                                                <td><input type="text"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="pieces.discount" disabled
                                                                                        readonly
                                                                                        name="discountPiece[{{i}}]"
                                                                                        style="width: 100px" readonly />
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="pieces.amountDiscount" disabled
                                                                                        readonly
                                                                                        name="totalDiscountPiece[{{i}}]"
                                                                                        readonly
                                                                                        [disabled]="pieces.observationExpert == 1">
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="pieces.amountAfterDiscount"disabled
                                                                                        readonly
                                                                                        name="amountAfterDiscountPiece[{{i}}]"
                                                                                        readonly
                                                                                        [disabled]="pieces.observationExpert == 1">
                                                                                </td>
                                                                                <td>
                                                                                    <select class="btn-default btn-sm"
                                                                                        style="background-color: white"
                                                                                        name="piecTva[{{i}}]"
                                                                                        [(ngModel)]="pieces.tva" disabled
                                                                                        readonly
                                                                                        (ngModelChange)="changePieceRechange(pieces)" disabled
                                                                                        [disabled]="pieces.observationExpert == 1">
                                                                                        <option [ngValue]="vat.vatRate"
                                                                                            *ngFor="let vat of listVat;">
                                                                                            {{vat.vatRate}}
                                                                                        </option>
                                                                                    </select>
                                                                                </td>
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        style="width: 100px"
                                                                                        [(ngModel)]="pieces.amountVat" disabled
                                                                                        readonly
                                                                                        name="amountTvaPiec[{{i}}]"
                                                                                        readonly
                                                                                        [disabled]="pieces.observationExpert == 1">
                                                                                </td>
        
                                                                                <td><input type="number"
                                                                                        class="input input-sm"
                                                                                        [(ngModel)]="pieces.totalTtc" disabled
                                                                                        readonly name="piecTtc[{{i}}]"
                                                                                        readonly style="width: 100px"
                                                                                        [disabled]="pieces.observationExpert == 1" />
                                                                                </td>
                                                                                <td>
        
                                                                                </td>
                                                                                <td>
        
                                                                                </td>
        
                                                                                <td *ngIf="detailsPieceMo.modified ">
        
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                                <td></td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <div class="row justify-content-center"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row top-buffer"></div>
                                            <br />
                                            <div class="col-lg-2">
        
                                            </div>
                                            <div class="col-lg-8">
                                                <span class="anchor" id="formUserEdit"></span>
                                                <div class="card">
                                                    <div class="card-header align-items-center notice-info">
                                                        <strong>Total Réparation</strong>
                                                    </div>
        
                                                    <div class="card-body">
                                                        <div class="row">
        
                                                            <div class="form-group col-sm-3">
                                                                <label
                                                                    jhiTranslate="auxiliumApp.devis.droitTimbre">droitTimbre</label>
        
                                                                <input id="field_droitTimbre" type="number"
                                                                    class="form-control input input-sm"
                                                                    name="droitTimbre" [(ngModel)]="quotation.stampDuty" disabled
                                                                    readonly />
                                                            </div>
                                                            <div class="form-group col-sm-3">
                                                                <label
                                                                    jhiTranslate="auxiliumApp.devis.totalTtc">totalTtc</label>
                                                                <input id="field_totalTtc" type="text"
                                                                    class="form-control input input-sm" name="totalTtc"
                                                                    [(ngModel)]="quotation.ttcAmount"  disabled readonly />
                                                            </div>
                                                        </div>
        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        </div>

            </div>
        
        </div>
    </section>
    <!-- PRESTATION PEC AGENT-->

    